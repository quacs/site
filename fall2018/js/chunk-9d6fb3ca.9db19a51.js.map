{"version":3,"sources":["webpack:///./src/views/Prerequisites.vue?4d24","webpack:///./src/components/scrapeTranscript.ts","webpack:///./node_modules/bootstrap-vue/esm/components/form-file/form-file.js","webpack:///./node_modules/bootstrap-vue/esm/components/layout/container.js","webpack:///./node_modules/bootstrap-vue/esm/components/jumbotron/jumbotron.js","webpack:///./node_modules/bootstrap-vue/esm/components/tabs/tab.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stable-sort.js","webpack:///./node_modules/bootstrap-vue/esm/components/tabs/tabs.js","webpack:///./src/views/Prerequisites.vue","webpack:///./src/views/Prerequisites.vue?7abf","webpack:///./src/views/Prerequisites.vue?cc5b","webpack:///./src/views/Prerequisites.vue?21fb"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","prerequisiteChecking","expression","tabNumber","verifyNewCourse","formatCourse","on","$event","type","indexOf","_k","keyCode","key","addCourse","newCourse","_l","course","staticStyle","removeCourse","_s","directives","name","rawName","modifiers","Boolean","file","importTranscript","scopedSlots","_u","fn","ref","ok","staticRenderFns","transcriptGetter","transcriptRows","rowIdx","childIdx","children","innerText","trim","scrapeTranscript","fileId","Promise","element","document","getElementById","files","length","resolve","reject","reader","FileReader","onload","e","target","result","onerror","readAsText","text","parser","DOMParser","transcript","parseFromString","transcriptTable","getElementsByClassName","getElementsByTagName","Array","from","filter","child","parentElement","getTranscriptData","data","studentType","currentProgram","college","majors","terms","rowNum","parsingStudentInfo","rowText","push","startsWith","termName","slice","courses","subject","title","grade","creditHours","qualityPoints","repeatStatus","columns","attemptHours","passedHours","earnedHours","gpaHours","gpa","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","apply","_objectSpread","i","arguments","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","VALUE_EMPTY_DEPRECATED_MSG","isValidValue","every","v","item","getAsEntry","webkitGetAsEntry","dataTransferItemList","traverseDirectories","undefined","all","array","kind","map","entry","isDirectory","createReader","concat","isFile","$path","identity","getAllFileEntriesInDirectory","directoryReader","path","entryPromises","readDirectoryEntries","readEntries","entries","then","BFormFile","extend","mixins","inheritAttrs","prop","event","props","default","validator","warn","accept","String","capture","placeholder","browseText","dropPlaceholder","noDropPlaceholder","multiple","directory","noTraverse","noDrop","fileNameFormatter","Function","dragging","dropAllowed","hasFocus","computed","computedAccept","split","extOrType","startMatch","endMatch","test","rx","RegExp","computedCapture","computedAttrs","disabled","required","form","bvAttrs","id","safeId","webkitdirectory","computedFileNameFormatter","_unused","defaultFileNameFormatter","clonedFiles","flattenedFiles","fileNames","labelContent","h","normalizeSlot","allowed","hasNormalizedSlot","filesTraversed","names","watch","newValue","reset","oldValue","$emit","mounted","_this","$form","$el","$on","methods","isFileValid","some","a","isFilesArrayValid","_this2","join","setFiles","setInputFiles","dataTransfer","ClipboardEvent","clipboardData","DataTransfer","items","add","$refs","input","_unused2","$input","_unused3","handleFiles","isDrop","filteredFiles","focusHandler","evt","plain","onChange","_this3","_evt$dataTransfer","webkitRelativePath","onDragenter","_evt$dataTransfer2","dropEffect","onDragover","_evt$dataTransfer3","onDragleave","_this4","$nextTick","onDrop","_this5","render","custom","size","stateClass","class","focus","style","zIndex","change","focusin","focusout","$label","for","pointerEvents","dragenter","dragover","dragleave","drop","tag","fluid","BContainer","functional","_ref","container","containerFluid","header","headerHtml","headerTag","headerLevel","Number","lead","leadHtml","leadTag","bgVariant","borderVariant","textVariant","BJumbotron","_class2","slots","$scopedSlots","$slots","slotScope","$header","hasHeaderSlot","domProps","html","$lead","hasLeadSlot","$children","BTab","inject","bvTabs","active","buttonId","titleItemClass","titleLinkClass","titleLinkAttributes","noBody","lazy","localActive","show","tabClasses","card","activeTabClass","controlledBy","computedNoFade","fade","computedLazy","_isTab","activate","deactivate","firstTab","registerTab","updated","updateButton","destroyed","unregisterTab","activateTab","deactivateTab","$content","role","mode","noFade","stableSort","compareFn","index","sort","b","bind","navProps","notDisabled","tab","BVTabButton","tabs","controls","tabIndex","posInSet","setSize","noKeyNav","link","handleEvt","shiftKey","_this$tab","$link","activeNavItemClass","tabindex","click","keydown","BTabs","provide","end","noNavStyle","contentClass","navClass","navWrapperClass","currentTab","registeredTabs","isMounted","localNavClass","classes","vertical","newVal","idx","oldVal","previousTab","nextTab","updateTabs","t","_uid","setObserver","created","$_observer","deactivated","activated","_this6","beforeDestroy","_this7","$once","disconnect","self","handler","tabsContainer","childList","subtree","attributes","attributeFilter","getTabs","order","selector","el","reverse","find","getButtonForTab","buttons","btn","button","$forceUpdate","tabEvt","cancelable","vueTarget","componentId","defaultPrevented","focusButton","_this8","emitTabClick","clickTab","currentIndex","math","lastTab","_this9","activeTab","fallbackTab","refInFor","first","prev","next","last","nav","fill","justified","align","pills","small","cardHeader","empty","content","col","row","toUpperCase","replace","substring","umami","trackEvent","$store","commit","store","bvModal","$bvModal","importedTranscript","catch","err","console","log","term","Prerequisites","components","match","priorCourses","getPriorCourses","get","state","prerequisites","enableChecking","set","new_val","component"],"mappings":"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","file":"js/chunk-9d6fb3ca.9db19a51.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',[_c('b-jumbotron',{attrs:{\"header\":\"Prerequisites\",\"header-level\":\"4\",\"lead\":\"Add courses you have already taken to QuACS to perform prerequisite checking\"}},[_c('p',[_vm._v(\" Once you have added courses you've already taken to the website, sections will warn you if you don't meet the requirements. \"),_c('br'),_vm._v(\" (You may still be able to be signed into these courses. Contact the professor and ask!) \"),_c('br'),_c('br'),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" This prerequisite information comes from SIS. If SIS only checks prerequisites for some sections of a course, the other sections will not show a warning. This also means that our prerequisite information may disagree with the course catalog, but it will be accurate for course registration.\")])]),_c('b-form-checkbox',{attrs:{\"switch\":\"\",\"size\":\"lg\"},model:{value:(_vm.prerequisiteChecking),callback:function ($$v) {_vm.prerequisiteChecking=$$v},expression:\"prerequisiteChecking\"}},[_vm._v(\"Enable prerequisite checking\")])],1)],1),_c('div',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"card\":\"\"},model:{value:(_vm.tabNumber),callback:function ($$v) {_vm.tabNumber=$$v},expression:\"tabNumber\"}},[_c('b-tab',{attrs:{\"title\":\"Manual Upload\",\"active\":\"\"}},[_c('b-row',{staticClass:\"my-1\"},[_c('b-col',[_c('b-form-input',{attrs:{\"state\":_vm.verifyNewCourse,\"placeholder\":\"Course Code\",\"aria-lable\":\"Course Code\",\"trim\":\"\",\"disabled\":!_vm.prerequisiteChecking,\"title\":_vm.prerequisiteChecking\n                    ? 'Enter a course here'\n                    : 'Enable prerequisites to add a course',\"formatter\":_vm.formatCourse},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addCourse($event)}},model:{value:(_vm.newCourse),callback:function ($$v) {_vm.newCourse=$$v},expression:\"newCourse\"}}),_c('b-form-invalid-feedback',[_vm._v(\" Format \\\"ABCD-1234\\\" \")]),_c('b-form-valid-feedback',{attrs:{\"id\":\"valid-feedback\"}},[_vm._v(\" Format \\\"ABCD-1234\\\" \")])],1),_c('b-col',[_c('b-button',{attrs:{\"disabled\":!_vm.verifyNewCourse || !_vm.prerequisiteChecking,\"title\":_vm.prerequisiteChecking\n                    ? 'Enter a course here'\n                    : 'Enable prerequisites to add a course'},on:{\"click\":_vm.addCourse}},[_vm._v(\"Add Course\")])],1)],1),_c('br'),_c('h3',[_vm._v(\"Courses you have already taken:\")]),_vm._l((_vm.priorCourses),function(course){return _c('div',{key:course,staticStyle:{\"margin-left\":\"2rem\",\"margin-bottom\":\"0.5rem\"}},[_c('font-awesome-icon',{staticClass:\"open_close_icon, trash-btn\",attrs:{\"icon\":['fas', 'trash']},on:{\"click\":function($event){return _vm.removeCourse(course)}}}),_vm._v(\" \"+_vm._s(course)+\" \")],1)})],2),_c('b-tab',{attrs:{\"title\":\"Import Courses\"}},[_c('h3',[_vm._v(\"Instructions\")]),_c('p',[_vm._v(\" In order to import your courses you will need to upload your transcript. Don't worry, QuACS is 100% client-side which means that all the data in your transcript stays on your computer and there is no way for anyone - including the QuACS developers - to view the data. \")]),_c('h3',{staticClass:\"mobile-only\"},[_vm._v(\" NOTE: Transcript importing does not work on mobile because there is no way to get your transcript as an html file. We recommend you use a computer for checking prerequisites, or type out your courses by hand if you wish to stay on mobile. \"),_c('br'),_c('br')]),_c('p',[_vm._v(\" 1) Go to \"),_c('a',{attrs:{\"href\":\"https://sis.rpi.edu\",\"target\":\"_blank\"}},[_vm._v(\"https://sis.rpi.edu\")])]),_c('p',[_vm._v(\"2) Log in and navigate to the Student Menu tab\")]),_c('p',[_vm._v(\"3) Click \\\"View Transcript\\\"\")]),_c('p',[_vm._v(\" 4) Press the Submit button (leave the options as \\\"All Levels\\\" and \\\"Unofficial Web Transcript\\\") \")]),_c('p',[_vm._v(\" 5) Press CTRL+S on your keyboard (or right click and press \\\"Save As\\\") and save the page as a .html file. \")]),_c('p',[_vm._v(\" 6) Upload the .html file here on QuACS and click \\\"Import Transcript\\\" \")]),_c('p'),_c('form',{attrs:{\"onsubmit\":\"return false;\",\"method\":\"post\"}},[_c('b-form-file',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.disabled\",value:(_vm.prerequisiteChecking),expression:\"prerequisiteChecking\",modifiers:{\"disabled\":true}},{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"transcriptFileUpload\",\"type\":\"file\",\"name\":\"file upload\",\"accept\":\".html,.htm\",\"state\":Boolean(_vm.file),\"placeholder\":\"Click to upload your transcript or drop it here...\",\"drop-placeholder\":\"Drop transcript here...\",\"required\":\"\",\"title\":_vm.prerequisiteChecking\n                  ? ''\n                  : 'Enable prerequisites to upload your transcript',\"disabled\":!_vm.prerequisiteChecking},on:{\"change\":function($event){return _vm.importTranscript()}},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1)])],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"transcriptImportModal\",\"title\":\"Import Error\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                  var ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\" Close \")])]}}])},[_c('p',[_vm._v(\" There was an issue importing from your transcript. These issues are hard to debug because we don't have access to many test transcript files. \")]),_c('p',[_vm._v(\"For now you will have to add your courses by hand... sorry :(\")]),_c('p',[_vm._v(\" If you would like to help us fix this issue, join our discord so we can talk: \")]),_c('a',{attrs:{\"href\":\"https://discord.gg/EyGZTAP\",\"title\":\"Join our development Discord server\",\"aria-label\":\"Join our development Discord server\",\"target\":\"_blank\"}},[_vm._v(\"https://discord.gg/EyGZTAP \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","interface Course {\n  subject: string;\n  course: string;\n  title: string;\n  grade: string;\n  creditHours: string;\n  qualityPoints?: string;\n  repeatStatus?: string;\n}\n\ninterface Term {\n  name: string;\n  courses: Course[];\n  attemptHours?: string;\n  passedHours?: string;\n  earnedHours?: string;\n  gpaHours?: string;\n  qualityPoints?: string;\n  gpa?: string;\n}\n\nexport interface StudentData {\n  name: string;\n  studentType: string;\n  currentProgram: string;\n  college: string;\n  majors: string[];\n  terms: Term[];\n}\n\nconst transcriptGetter = (transcriptRows: HTMLTableRowElement[]) => (\n  rowIdx: number,\n  childIdx: number\n): string =>\n  (transcriptRows[rowIdx].children[childIdx] as HTMLElement).innerText.trim();\n\nexport async function scrapeTranscript(fileId: string): Promise<StudentData> {\n  const element = document.getElementById(fileId) as HTMLInputElement | null;\n  if (element === null) {\n    throw \"invalid fileId\";\n  }\n\n  const files = element.files;\n  if (files === null || files.length < 1) {\n    throw \"missing file\";\n  }\n\n  if (files[0].type !== \"text/html\") {\n    throw `wrong type \"${files[0].type}\"`;\n  }\n\n  const text = await new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      if (e.target === null) {\n        reject(e.target);\n      } else {\n        resolve(e.target.result);\n      }\n    };\n\n    reader.onerror = function (e) {\n      reject(e);\n    };\n\n    reader.readAsText(files[0]);\n  });\n\n  if (text === null) {\n    throw \"error reading file\";\n  }\n\n  const parser = new DOMParser();\n  const transcript = parser.parseFromString(text as string, \"text/html\");\n\n  const transcriptTable = transcript\n    .getElementsByClassName(\"datadisplaytable\")[0]\n    .getElementsByTagName(\"tbody\")[0];\n  const transcriptRows = Array.from(\n    transcriptTable.getElementsByTagName(\"tr\")\n  ).filter((child) => child.parentElement === transcriptTable);\n\n  const getTranscriptData = transcriptGetter(transcriptRows);\n\n  const data: StudentData = {\n    name: \"\",\n    studentType: \"\",\n    currentProgram: \"\",\n    college: \"\",\n    majors: [],\n    terms: [],\n  };\n\n  let rowNum = 0;\n  let parsingStudentInfo = true;\n  while (rowNum < transcriptRows.length && parsingStudentInfo) {\n    const rowText = getTranscriptData(rowNum, 0);\n\n    switch (rowText) {\n      case \"Name :\":\n        data.name = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Student Type: \":\n        data.studentType = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Current Program: \":\n        rowNum++; // Current Program is stored in the next row, not a child element\n        data.currentProgram = getTranscriptData(rowNum, 0);\n        break;\n\n      case \"College:\":\n        data.college = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Major:\":\n        data.majors.push(getTranscriptData(rowNum, 1));\n        break;\n\n      default:\n        if (\n          getTranscriptData(rowNum, 0).startsWith(\n            \"***Transcript type:UWEB is NOT Official ***\"\n          )\n        ) {\n          //\n          parsingStudentInfo = false;\n        }\n        break;\n    }\n\n    rowNum++; // continue to next row\n  }\n\n  rowNum += 3; // skip over the dividers\n  if (\n    getTranscriptData(rowNum, 0).startsWith(\n      \"TRANSFER CREDIT ACCEPTED BY INSTITUTION\"\n    )\n  ) {\n    // Parse transfer terms\n    rowNum++; // move off of header\n\n    while (rowNum < transcriptRows.length) {\n      if (\n        getTranscriptData(rowNum, 0).startsWith(\"INSTITUTION CREDIT\") ||\n        getTranscriptData(rowNum, 0).startsWith(\"TRANSCRIPT TOTALS\")\n      ) {\n        // We're done parsing transfer terms, move on to RPI courses\n        break;\n      }\n\n      const termName = `${getTranscriptData(rowNum, 0).slice(\n        0,\n        -1\n      )} (transfer from ${getTranscriptData(rowNum, 1)})`;\n      rowNum++; // move off of semester/school name\n      rowNum++; // move off of table headers\n\n      // Loop over all of the courses for this semester\n      const courses: Course[] = [];\n      while (rowNum < transcriptRows.length) {\n        const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n        if (columns[0].innerText.trim() === \"\") {\n          // This marks the end of the term (this element has a bunch of headers too)\n          // so break out of parsing\n          break;\n        }\n\n        courses.push({\n          subject: columns[0].innerText.trim(),\n          course: columns[1].innerText.trim(),\n          title: columns[2].innerText.trim(),\n          grade: columns[3].innerText.trim(),\n          creditHours: columns[4].innerText.trim(),\n          qualityPoints: columns[5].innerText.trim(),\n          repeatStatus: columns[6].innerText.trim(),\n        });\n\n        rowNum++;\n      }\n\n      rowNum++; // move off of summary headers\n\n      // We're now pointing at the term summary.  We technically don't need to parse\n      // this data, but hey, might as well while we're here (this isn't used anywhere\n      // but it may be in the future).  There's no reason to not scrape it since this\n      // all stays client-side anyways, but it'll save us time later if we need it for\n      // something (cough cough, quacsworks)\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n      data.terms.push({\n        name: termName,\n        courses: courses,\n        attemptHours: columns[0].innerText.trim(),\n        passedHours: columns[1].innerText.trim(),\n        earnedHours: columns[2].innerText.trim(),\n        gpaHours: columns[3].innerText.trim(),\n        qualityPoints: columns[4].innerText.trim(),\n        gpa: columns[5].innerText.trim(),\n      });\n\n      // Skip over trailing rows\n      rowNum += 3;\n    }\n  }\n\n  // If there's institution credit, we should be pointing at it\n  if (getTranscriptData(rowNum, 0).startsWith(\"INSTITUTION CREDIT\")) {\n    // Parse RPI terms\n    rowNum++; // Move off of header\n\n    while (rowNum < transcriptRows.length) {\n      if (getTranscriptData(rowNum, 0).startsWith(\"TRANSCRIPT TOTALS\")) {\n        // done parsing\n        break;\n      }\n\n      // We're pointing at the term name\n      const termName = getTranscriptData(rowNum, 0);\n      rowNum++; // move off of term name\n      rowNum += 2; // move off of metadata\n      while (getTranscriptData(rowNum, 0) === \"Additional Standing:\") {\n        // skip additional metadata\n        rowNum++;\n      }\n      rowNum++; // move off of table headers\n\n      // Loop over all of the courses for this semester\n      const courses: Course[] = [];\n      while (rowNum < transcriptRows.length) {\n        const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n        if (columns.length === 0) {\n          // This marks the end of the term (this element has a bunch of headers too)\n          // so break out of parsing\n          break;\n        }\n\n        courses.push({\n          subject: columns[0].innerText.trim(),\n          course: columns[1].innerText.trim(),\n          title: columns[2].innerText.trim(),\n          grade: columns[3].innerText.trim(),\n          creditHours: columns[4].innerText.trim(),\n          qualityPoints: columns[5].innerText.trim(),\n          repeatStatus: columns[6].innerText.trim(),\n        });\n\n        rowNum++;\n      }\n\n      rowNum++; // move off of \"Term Totals (Undergraduate)\"\n      rowNum++; // move off of summary headers\n\n      // We're now pointing at the term summary.  We technically don't need to parse\n      // this data, but hey, might as well while we're here (this isn't used anywhere\n      // but it may be in the future).  There's no reason to not scrape it since this\n      // all stays client-side anyways, but it'll save us time later if we need it for\n      // something (cough cough, quacsworks)\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n      data.terms.push({\n        name: termName,\n        courses: courses,\n        attemptHours: columns[0].innerText.trim(),\n        passedHours: columns[1].innerText.trim(),\n        earnedHours: columns[2].innerText.trim(),\n        gpaHours: columns[3].innerText.trim(),\n        qualityPoints: columns[4].innerText.trim(),\n        gpa: columns[5].innerText.trim(),\n      });\n\n      // Skip over trailing rows\n      rowNum += 4;\n    }\n  }\n\n  rowNum += 7; // skip over transcript totals\n  if (getTranscriptData(rowNum, 0).startsWith(\"COURSES IN PROGRESS\")) {\n    // Parse current term\n    rowNum++; // Move off of header\n\n    // We're pointing at the term name\n    const termName = getTranscriptData(rowNum, 0);\n    rowNum++; // move off of term name\n    rowNum++; // move off of metadata\n    rowNum++; // move off of table headers\n\n    // Loop over all of the courses for this semester\n    const courses: Course[] = [];\n    while (rowNum < transcriptRows.length) {\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n      if (columns[0].innerText.trim() === \"\") {\n        // This marks the end of the term (this element has a bunch of headers too)\n        // so break out of parsing\n        break;\n      }\n\n      courses.push({\n        subject: columns[0].innerText.trim(),\n        course: columns[1].innerText.trim(),\n        title: columns[2].innerText.trim(),\n        grade: columns[3].innerText.trim(),\n        creditHours: columns[4].innerText.trim(),\n      });\n\n      rowNum++;\n    }\n\n    rowNum++; // move off of summary headers\n\n    // We're now pointing at the term summary.\n    data.terms.push({\n      name: termName,\n      courses: courses,\n    });\n  }\n\n  return data;\n}\n","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport cloneDeep from '../../utils/clone-deep';\nimport identity from '../../utils/identity';\nimport looseEqual from '../../utils/loose-equal';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { makePropsConfigurable } from '../../utils/config';\nimport { closest } from '../../utils/dom';\nimport { hasPromiseSupport } from '../../utils/env';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { isArray, isFile, isFunction, isNull, isUndefined, isUndefinedOrNull } from '../../utils/inspect';\nimport { File } from '../../utils/safe-types';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport attrsMixin from '../../mixins/attrs';\nimport formControlMixin, { props as formControlProps } from '../../mixins/form-control';\nimport formCustomMixin, { props as formCustomProps } from '../../mixins/form-custom';\nimport formStateMixin, { props as formStateProps } from '../../mixins/form-state';\nimport idMixin from '../../mixins/id';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // @vue/component\n\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: makePropsConfigurable(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n    value: {\n      type: [File, Array],\n      default: null,\n      validator: function validator(value) {\n        /* istanbul ignore next */\n        if (value === '') {\n          warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n          return true;\n        }\n\n        return isUndefinedOrNull(value) || isValidValue(value);\n      }\n    },\n    accept: {\n      type: String,\n      default: ''\n    },\n    // Instruct input to capture from camera\n    capture: {\n      type: Boolean,\n      default: false\n    },\n    placeholder: {\n      type: String,\n      default: 'No file chosen'\n    },\n    browseText: {\n      type: String,\n      default: 'Browse'\n    },\n    dropPlaceholder: {\n      type: String,\n      default: 'Drop files here'\n    },\n    noDropPlaceholder: {\n      type: String,\n      default: 'Not allowed'\n    },\n    multiple: {\n      type: Boolean,\n      default: false\n    },\n    directory: {\n      type: Boolean,\n      default: false\n    },\n    // TODO:\n    //   Should we deprecate this and only support flat file structures?\n    //   Nested file structures are only supported when files are dropped\n    //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n    //   on the file input's `change` event and is marked as \"WontFix\"\n    //   Mozilla implemented the behavior the same way as Chromium\n    //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n    //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n    noTraverse: {\n      type: Boolean,\n      default: false\n    },\n    noDrop: {\n      type: Boolean,\n      default: false\n    },\n    fileNameFormatter: {\n      type: Function // default: null\n\n    }\n  }), NAME_FORM_FILE),\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `evt.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(Boolean); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      var result = null;\n\n      try {\n        result = fileNameFormatter();\n      } catch (_unused) {}\n\n      return isUndefined(result) ? this.defaultFileNameFormatter : fileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      var h = this.$createElement; // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot('drop-placeholder', {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : h('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot('placeholder') || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot('file-name')) {\n        return this.normalizeSlot('file-name', {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: {\n    value: function value(newValue) {\n      if (!newValue || isArray(newValue) && newValue.length === 0) {\n        this.reset();\n      }\n    },\n    files: function files(newValue, oldValue) {\n      if (!looseEqual(newValue, oldValue)) {\n        var multiple = this.multiple,\n            noTraverse = this.noTraverse;\n        var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n        this.$emit('input', multiple ? files : files[0] || null);\n      }\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$on('hook:beforeDestroy', function () {\n        eventOff($form, 'reset', _this.reset, EVENT_OPTIONS_PASSIVE);\n      });\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this2 = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this2.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused2) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused3) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(evt) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || evt.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(evt) {\n      var _this3 = this;\n\n      var type = evt.type,\n          target = evt.target,\n          _evt$dataTransfer = evt.dataTransfer,\n          dataTransfer = _evt$dataTransfer === void 0 ? {} : _evt$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit('change', evt);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (hasPromiseSupport && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this3.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(evt) {\n      stopEvent(evt);\n      this.dragging = true;\n      var _evt$dataTransfer2 = evt.dataTransfer,\n          dataTransfer = _evt$dataTransfer2 === void 0 ? {} : _evt$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(evt) {\n      stopEvent(evt);\n      this.dragging = true;\n      var _evt$dataTransfer3 = evt.dataTransfer,\n          dataTransfer = _evt$dataTransfer3 === void 0 ? {} : _evt$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(evt) {\n      var _this4 = this;\n\n      stopEvent(evt);\n      this.$nextTick(function () {\n        _this4.dragging = false; // Reset `dropAllowed` to default\n\n        _this4.dropAllowed = !_this4.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(evt) {\n      var _this5 = this;\n\n      stopEvent(evt);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this5.dropAllowed = !_this5.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(evt);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass; // Form Input\n\n    var $input = h('input', {\n      ref: 'input',\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      }\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass],\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue, { mergeData } from '../../vue';\nimport { NAME_CONTAINER } from '../../constants/components';\nimport { makePropsConfigurable } from '../../utils/config';\nexport var props = makePropsConfigurable({\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  fluid: {\n    // String breakpoint name new in Bootstrap v4.4.x\n    type: [Boolean, String],\n    default: false\n  }\n}, NAME_CONTAINER); // @vue/component\n\nexport var BContainer = /*#__PURE__*/Vue.extend({\n  name: NAME_CONTAINER,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var props = _ref.props,\n        data = _ref.data,\n        children = _ref.children;\n    return h(props.tag, mergeData(data, {\n      class: _defineProperty({\n        container: !(props.fluid || props.fluid === ''),\n        'container-fluid': props.fluid === true || props.fluid === ''\n      }, \"container-\".concat(props.fluid), props.fluid && props.fluid !== true)\n    }), children);\n  }\n});","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue, { mergeData } from '../../vue';\nimport { NAME_JUMBOTRON } from '../../constants/components';\nimport { SLOT_NAME_DEFAULT, SLOT_NAME_HEADER, SLOT_NAME_LEAD } from '../../constants/slot-names';\nimport { makePropsConfigurable } from '../../utils/config';\nimport { htmlOrText } from '../../utils/html';\nimport { hasNormalizedSlot, normalizeSlot } from '../../utils/normalize-slot';\nimport { BContainer } from '../layout/container'; // --- Props ---\n\nexport var props = makePropsConfigurable({\n  fluid: {\n    type: Boolean,\n    default: false\n  },\n  containerFluid: {\n    type: [Boolean, String],\n    default: false\n  },\n  header: {\n    type: String // default: null\n\n  },\n  headerHtml: {\n    type: String // default: null\n\n  },\n  headerTag: {\n    type: String,\n    default: 'h1'\n  },\n  headerLevel: {\n    type: [Number, String],\n    default: '3'\n  },\n  lead: {\n    type: String // default: null\n\n  },\n  leadHtml: {\n    type: String // default: null\n\n  },\n  leadTag: {\n    type: String,\n    default: 'p'\n  },\n  tag: {\n    type: String,\n    default: 'div'\n  },\n  bgVariant: {\n    type: String // default: undefined\n\n  },\n  borderVariant: {\n    type: String // default: undefined\n\n  },\n  textVariant: {\n    type: String // default: undefined\n\n  }\n}, NAME_JUMBOTRON); // --- Main component ---\n// @vue/component\n\nexport var BJumbotron = /*#__PURE__*/Vue.extend({\n  name: NAME_JUMBOTRON,\n  functional: true,\n  props: props,\n  render: function render(h, _ref) {\n    var _class2;\n\n    var props = _ref.props,\n        data = _ref.data,\n        slots = _ref.slots,\n        scopedSlots = _ref.scopedSlots;\n    var header = props.header,\n        headerHtml = props.headerHtml,\n        lead = props.lead,\n        leadHtml = props.leadHtml,\n        textVariant = props.textVariant,\n        bgVariant = props.bgVariant,\n        borderVariant = props.borderVariant;\n    var $scopedSlots = scopedSlots || {};\n    var $slots = slots();\n    var slotScope = {};\n    var $header = h();\n    var hasHeaderSlot = hasNormalizedSlot(SLOT_NAME_HEADER, $scopedSlots, $slots);\n\n    if (hasHeaderSlot || header || headerHtml) {\n      var headerLevel = props.headerLevel;\n      $header = h(props.headerTag, {\n        class: _defineProperty({}, \"display-\".concat(headerLevel), headerLevel),\n        domProps: hasHeaderSlot ? {} : htmlOrText(headerHtml, header)\n      }, normalizeSlot(SLOT_NAME_HEADER, slotScope, $scopedSlots, $slots));\n    }\n\n    var $lead = h();\n    var hasLeadSlot = hasNormalizedSlot(SLOT_NAME_LEAD, $scopedSlots, $slots);\n\n    if (hasLeadSlot || lead || leadHtml) {\n      $lead = h(props.leadTag, {\n        staticClass: 'lead',\n        domProps: hasLeadSlot ? {} : htmlOrText(leadHtml, lead)\n      }, normalizeSlot(SLOT_NAME_LEAD, slotScope, $scopedSlots, $slots));\n    }\n\n    var $children = [$header, $lead, normalizeSlot(SLOT_NAME_DEFAULT, slotScope, $scopedSlots, $slots)]; // If fluid, wrap content in a container\n\n    if (props.fluid) {\n      $children = [h(BContainer, {\n        props: {\n          fluid: props.containerFluid\n        }\n      }, $children)];\n    }\n\n    return h(props.tag, mergeData(data, {\n      staticClass: 'jumbotron',\n      class: (_class2 = {\n        'jumbotron-fluid': props.fluid\n      }, _defineProperty(_class2, \"text-\".concat(textVariant), textVariant), _defineProperty(_class2, \"bg-\".concat(bgVariant), bgVariant), _defineProperty(_class2, \"border-\".concat(borderVariant), borderVariant), _defineProperty(_class2, \"border\", borderVariant), _class2)\n    }), $children);\n  }\n});","import Vue from '../../vue';\nimport { NAME_TAB } from '../../constants/components';\nimport { SLOT_NAME_TITLE } from '../../constants/slot-names';\nimport { makePropsConfigurable } from '../../utils/config';\nimport BVTransition from '../../utils/bv-transition';\nimport idMixin from '../../mixins/id';\nimport normalizeSlotMixin from '../../mixins/normalize-slot'; // @vue/component\n\nexport var BTab = /*#__PURE__*/Vue.extend({\n  name: NAME_TAB,\n  mixins: [idMixin, normalizeSlotMixin],\n  inject: {\n    bvTabs: {\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  props: makePropsConfigurable({\n    active: {\n      type: Boolean,\n      default: false\n    },\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    buttonId: {\n      type: String // default: ''\n\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    titleItemClass: {\n      // Sniffed by `<b-tabs>` and added to nav `li.nav-item`\n      type: [String, Array, Object] // default: null\n\n    },\n    titleLinkClass: {\n      // Sniffed by `<b-tabs>` and added to nav `a.nav-link`\n      type: [String, Array, Object] // default: null\n\n    },\n    titleLinkAttributes: {\n      type: Object // default: null\n\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    noBody: {\n      type: Boolean,\n      default: false\n    },\n    lazy: {\n      type: Boolean,\n      default: false\n    }\n  }, NAME_TAB),\n  data: function data() {\n    return {\n      localActive: this.active && !this.disabled,\n      show: false\n    };\n  },\n  computed: {\n    tabClasses: function tabClasses() {\n      return [{\n        active: this.localActive,\n        disabled: this.disabled,\n        'card-body': this.bvTabs.card && !this.noBody\n      }, // Apply <b-tabs> `activeTabClass` styles when this tab is active\n      this.localActive ? this.bvTabs.activeTabClass : null];\n    },\n    controlledBy: function controlledBy() {\n      return this.buttonId || this.safeId('__BV_tab_button__');\n    },\n    computedNoFade: function computedNoFade() {\n      return !(this.bvTabs.fade || false);\n    },\n    computedLazy: function computedLazy() {\n      return this.bvTabs.lazy || this.lazy;\n    },\n    // For parent sniffing of child\n    _isTab: function _isTab() {\n      return true;\n    }\n  },\n  watch: {\n    localActive: function localActive(newValue) {\n      // Make `active` prop work with `.sync` modifier\n      this.$emit('update:active', newValue);\n    },\n    active: function active(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        if (newValue) {\n          // If activated post mount\n          this.activate();\n        } else {\n          /* istanbul ignore next */\n          if (!this.deactivate()) {\n            // Tab couldn't be deactivated, so we reset the synced active prop\n            // Deactivation will fail if no other tabs to activate\n            this.$emit('update:active', this.localActive);\n          }\n        }\n      }\n    },\n    disabled: function disabled(newValue, oldValue) {\n      if (newValue !== oldValue) {\n        var firstTab = this.bvTabs.firstTab;\n\n        if (newValue && this.localActive && firstTab) {\n          this.localActive = false;\n          firstTab();\n        }\n      }\n    }\n  },\n  mounted: function mounted() {\n    // Inform b-tabs of our presence\n    this.registerTab(); // Initially show on mount if active and not disabled\n\n    this.show = this.localActive;\n  },\n  updated: function updated() {\n    // Force the tab button content to update (since slots are not reactive)\n    // Only done if we have a title slot, as the title prop is reactive\n    var updateButton = this.bvTabs.updateButton;\n\n    if (updateButton && this.hasNormalizedSlot(SLOT_NAME_TITLE)) {\n      updateButton(this);\n    }\n  },\n  destroyed: function destroyed() {\n    // inform b-tabs of our departure\n    this.unregisterTab();\n  },\n  methods: {\n    // Private methods\n    registerTab: function registerTab() {\n      // Inform `<b-tabs>` of our presence\n      var registerTab = this.bvTabs.registerTab;\n\n      if (registerTab) {\n        registerTab(this);\n      }\n    },\n    unregisterTab: function unregisterTab() {\n      // Inform `<b-tabs>` of our departure\n      var unregisterTab = this.bvTabs.unregisterTab;\n\n      if (unregisterTab) {\n        unregisterTab(this);\n      }\n    },\n    // Public methods\n    activate: function activate() {\n      // Not inside a `<b-tabs>` component or tab is disabled\n      var activateTab = this.bvTabs.activateTab;\n      return activateTab && !this.disabled ? activateTab(this) : false;\n    },\n    deactivate: function deactivate() {\n      // Not inside a `<b-tabs>` component or not active to begin with\n      var deactivateTab = this.bvTabs.deactivateTab;\n      return deactivateTab && this.localActive ? deactivateTab(this) : false;\n    }\n  },\n  render: function render(h) {\n    var localActive = this.localActive;\n    var $content = h(this.tag, {\n      ref: 'panel',\n      staticClass: 'tab-pane',\n      class: this.tabClasses,\n      directives: [{\n        name: 'show',\n        rawName: 'v-show',\n        value: localActive,\n        expression: 'localActive'\n      }],\n      attrs: {\n        role: 'tabpanel',\n        id: this.safeId(),\n        'aria-hidden': localActive ? 'false' : 'true',\n        'aria-labelledby': this.controlledBy || null\n      }\n    }, // Render content lazily if requested\n    [localActive || !this.computedLazy ? this.normalizeSlot() : h()]);\n    return h(BVTransition, {\n      props: {\n        mode: 'out-in',\n        noFade: this.computedNoFade\n      }\n    }, [$content]);\n  }\n});","/*\n * Consistent and stable sort function across JavaScript platforms\n *\n * Inconsistent sorts can cause SSR problems between client and server\n * such as in <b-table> if sortBy is applied to the data on server side render.\n * Chrome and V8 native sorts are inconsistent/unstable\n *\n * This function uses native sort with fallback to index compare when the a and b\n * compare returns 0\n *\n * Algorithm based on:\n * https://stackoverflow.com/questions/1427608/fast-stable-sorting-algorithm-implementation-in-javascript/45422645#45422645\n *\n * @param {array} array to sort\n * @param {function} sort compare function\n * @return {array}\n */\nvar stableSort = function stableSort(array, compareFn) {\n  // Using `.bind(compareFn)` on the wrapped anonymous function improves\n  // performance by avoiding the function call setup. We don't use an arrow\n  // function here as it binds `this` to the `stableSort` context rather than\n  // the `compareFn` context, which wouldn't give us the performance increase.\n  return array.map(function (a, index) {\n    return [index, a];\n  }).sort(function (a, b) {\n    return this(a[1], b[1]) || a[0] - b[0];\n  }.bind(compareFn)).map(function (e) {\n    return e[1];\n  });\n};\n\nexport default stableSort;","function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport Vue from '../../vue';\nimport { NAME_TABS, NAME_TAB_BUTTON_HELPER } from '../../constants/components';\nimport { CODE_DOWN, CODE_END, CODE_HOME, CODE_LEFT, CODE_RIGHT, CODE_SPACE, CODE_UP } from '../../constants/key-codes';\nimport { SLOT_NAME_TITLE } from '../../constants/slot-names';\nimport { makePropsConfigurable } from '../../utils/config';\nimport identity from '../../utils/identity';\nimport looseEqual from '../../utils/loose-equal';\nimport observeDom from '../../utils/observe-dom';\nimport stableSort from '../../utils/stable-sort';\nimport { arrayIncludes, concat } from '../../utils/array';\nimport { BvEvent } from '../../utils/bv-event.class';\nimport { attemptFocus, requestAF, selectAll } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { isEvent } from '../../utils/inspect';\nimport { mathMax } from '../../utils/math';\nimport { toInteger } from '../../utils/number';\nimport { omit } from '../../utils/object';\nimport idMixin from '../../mixins/id';\nimport normalizeSlotMixin from '../../mixins/normalize-slot';\nimport { BLink } from '../link/link';\nimport { BNav, props as BNavProps } from '../nav/nav'; // --- Constants ---\n\nvar navProps = omit(BNavProps, ['tabs', 'isNavBar', 'cardHeader']); // --- Helper methods ---\n// Filter function to filter out disabled tabs\n\nvar notDisabled = function notDisabled(tab) {\n  return !tab.disabled;\n}; // --- Helper components ---\n// @vue/component\n\n\nvar BVTabButton = /*#__PURE__*/Vue.extend({\n  name: NAME_TAB_BUTTON_HELPER,\n  inject: {\n    bvTabs: {\n      /* istanbul ignore next */\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  props: makePropsConfigurable({\n    // Reference to the child <b-tab> instance\n    tab: {\n      default: null\n    },\n    tabs: {\n      type: Array,\n\n      /* istanbul ignore next */\n      default: function _default() {\n        return [];\n      }\n    },\n    id: {\n      type: String,\n      default: null\n    },\n    controls: {\n      type: String,\n      default: null\n    },\n    tabIndex: {\n      type: Number,\n      default: null\n    },\n    posInSet: {\n      type: Number,\n      default: null\n    },\n    setSize: {\n      type: Number,\n      default: null\n    },\n    noKeyNav: {\n      type: Boolean,\n      default: false\n    }\n  }, NAME_TABS),\n  methods: {\n    focus: function focus() {\n      attemptFocus(this.$refs.link);\n    },\n    handleEvt: function handleEvt(evt) {\n      if (this.tab.disabled) {\n        /* istanbul ignore next */\n        return;\n      }\n\n      var type = evt.type,\n          keyCode = evt.keyCode,\n          shiftKey = evt.shiftKey;\n\n      if (type === 'click') {\n        stopEvent(evt);\n        this.$emit('click', evt);\n      } else if (type === 'keydown' && keyCode === CODE_SPACE) {\n        // For ARIA tabs the SPACE key will also trigger a click/select\n        // Even with keyboard navigation disabled, SPACE should \"click\" the button\n        // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/4323\n        stopEvent(evt);\n        this.$emit('click', evt);\n      } else if (type === 'keydown' && !this.noKeyNav) {\n        // For keyboard navigation\n        if ([CODE_UP, CODE_LEFT, CODE_HOME].indexOf(keyCode) !== -1) {\n          stopEvent(evt);\n\n          if (shiftKey || keyCode === CODE_HOME) {\n            this.$emit('first', evt);\n          } else {\n            this.$emit('prev', evt);\n          }\n        } else if ([CODE_DOWN, CODE_RIGHT, CODE_END].indexOf(keyCode) !== -1) {\n          stopEvent(evt);\n\n          if (shiftKey || keyCode === CODE_END) {\n            this.$emit('last', evt);\n          } else {\n            this.$emit('next', evt);\n          }\n        }\n      }\n    }\n  },\n  render: function render(h) {\n    var id = this.id,\n        tabIndex = this.tabIndex,\n        setSize = this.setSize,\n        posInSet = this.posInSet,\n        controls = this.controls,\n        handleEvt = this.handleEvt;\n    var _this$tab = this.tab,\n        title = _this$tab.title,\n        localActive = _this$tab.localActive,\n        disabled = _this$tab.disabled,\n        titleItemClass = _this$tab.titleItemClass,\n        titleLinkClass = _this$tab.titleLinkClass,\n        titleLinkAttributes = _this$tab.titleLinkAttributes;\n    var $link = h(BLink, {\n      ref: 'link',\n      staticClass: 'nav-link',\n      class: [{\n        active: localActive && !disabled,\n        disabled: disabled\n      }, titleLinkClass, // Apply <b-tabs> `activeNavItemClass` styles when the tab is active\n      localActive ? this.bvTabs.activeNavItemClass : null],\n      props: {\n        disabled: disabled\n      },\n      attrs: _objectSpread(_objectSpread({}, titleLinkAttributes), {}, {\n        role: 'tab',\n        id: id,\n        // Roving tab index when keynav enabled\n        tabindex: tabIndex,\n        'aria-selected': localActive && !disabled ? 'true' : 'false',\n        'aria-setsize': setSize,\n        'aria-posinset': posInSet,\n        'aria-controls': controls\n      }),\n      on: {\n        click: handleEvt,\n        keydown: handleEvt\n      }\n    }, [this.tab.normalizeSlot(SLOT_NAME_TITLE) || title]);\n    return h('li', {\n      staticClass: 'nav-item',\n      class: [titleItemClass],\n      attrs: {\n        role: 'presentation'\n      }\n    }, [$link]);\n  }\n}); // @vue/component\n\nexport var BTabs = /*#__PURE__*/Vue.extend({\n  name: NAME_TABS,\n  mixins: [idMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTabs: this\n    };\n  },\n  model: {\n    prop: 'value',\n    event: 'input'\n  },\n  props: _objectSpread(_objectSpread({}, navProps), {}, {\n    tag: {\n      type: String,\n      default: 'div'\n    },\n    card: {\n      type: Boolean,\n      default: false\n    },\n    end: {\n      // Synonym for 'bottom'\n      type: Boolean,\n      default: false\n    },\n    noFade: {\n      type: Boolean,\n      default: false\n    },\n    noNavStyle: {\n      type: Boolean,\n      default: false\n    },\n    noKeyNav: {\n      type: Boolean,\n      default: false\n    },\n    lazy: {\n      // This prop is sniffed by the <b-tab> child\n      type: Boolean,\n      default: false\n    },\n    contentClass: {\n      type: [String, Array, Object] // default: null\n\n    },\n    navClass: {\n      type: [String, Array, Object] // default: null\n\n    },\n    navWrapperClass: {\n      type: [String, Array, Object] // default: null\n\n    },\n    activeNavItemClass: {\n      // Only applied to the currently active <b-nav-item>\n      type: [String, Array, Object] // default: null\n\n    },\n    activeTabClass: {\n      // Only applied to the currently active <b-tab>\n      // This prop is sniffed by the <b-tab> child\n      type: [String, Array, Object] // default: null\n\n    },\n    value: {\n      // v-model\n      type: Number,\n      default: null\n    }\n  }),\n  data: function data() {\n    return {\n      // Index of current tab\n      currentTab: toInteger(this.value, -1),\n      // Array of direct child <b-tab> instances, in DOM order\n      tabs: [],\n      // Array of child instances registered (for triggering reactive updates)\n      registeredTabs: [],\n      // Flag to know if we are mounted or not\n      isMounted: false\n    };\n  },\n  computed: {\n    fade: function fade() {\n      // This computed prop is sniffed by the tab child\n      return !this.noFade;\n    },\n    localNavClass: function localNavClass() {\n      var classes = [];\n\n      if (this.card && this.vertical) {\n        classes.push('card-header', 'h-100', 'border-bottom-0', 'rounded-0');\n      }\n\n      return [].concat(classes, [this.navClass]);\n    }\n  },\n  watch: {\n    currentTab: function currentTab(newVal) {\n      var index = -1; // Ensure only one tab is active at most\n\n      this.tabs.forEach(function (tab, idx) {\n        if (newVal === idx && !tab.disabled) {\n          tab.localActive = true;\n          index = idx;\n        } else {\n          tab.localActive = false;\n        }\n      }); // Update the v-model\n\n      this.$emit('input', index);\n    },\n    value: function value(newVal, oldVal) {\n      if (newVal !== oldVal) {\n        newVal = toInteger(newVal, -1);\n        oldVal = toInteger(oldVal, 0);\n        var tabs = this.tabs;\n\n        if (tabs[newVal] && !tabs[newVal].disabled) {\n          this.activateTab(tabs[newVal]);\n        } else {\n          // Try next or prev tabs\n          if (newVal < oldVal) {\n            this.previousTab();\n          } else {\n            this.nextTab();\n          }\n        }\n      }\n    },\n    registeredTabs: function registeredTabs() {\n      var _this = this;\n\n      // Each b-tab will register/unregister itself.\n      // We use this to detect when tabs are added/removed\n      // to trigger the update of the tabs.\n      this.$nextTick(function () {\n        requestAF(function () {\n          _this.updateTabs();\n        });\n      });\n    },\n    tabs: function tabs(newVal, oldVal) {\n      var _this2 = this;\n\n      // If tabs added, removed, or re-ordered, we emit a `changed` event.\n      // We use `tab._uid` instead of `tab.safeId()`, as the later is changed\n      // in a nextTick if no explicit ID is provided, causing duplicate emits.\n      if (!looseEqual(newVal.map(function (t) {\n        return t._uid;\n      }), oldVal.map(function (t) {\n        return t._uid;\n      }))) {\n        // In a nextTick to ensure currentTab has been set first.\n        this.$nextTick(function () {\n          // We emit shallow copies of the new and old arrays of tabs, to\n          // prevent users from potentially mutating the internal arrays.\n          _this2.$emit('changed', newVal.slice(), oldVal.slice());\n        });\n      }\n    },\n    isMounted: function isMounted(newVal) {\n      var _this3 = this;\n\n      // Trigger an update after mounted.  Needed for tabs inside lazy modals.\n      if (newVal) {\n        requestAF(function () {\n          _this3.updateTabs();\n        });\n      } // Enable or disable the observer\n\n\n      this.setObserver(newVal);\n    }\n  },\n  created: function created() {\n    var _this4 = this;\n\n    // Create private non-reactive props\n    this.$_observer = null;\n    this.currentTab = toInteger(this.value, -1); // For SSR and to make sure only a single tab is shown on mount\n    // We wrap this in a `$nextTick()` to ensure the child tabs have been created\n\n    this.$nextTick(function () {\n      _this4.updateTabs();\n    });\n  },\n  mounted: function mounted() {\n    var _this5 = this;\n\n    // Call `updateTabs()` just in case...\n    this.updateTabs();\n    this.$nextTick(function () {\n      // Flag we are now mounted and to switch to DOM for tab probing.\n      // As this.$slots.default appears to lie about component instances\n      // after b-tabs is destroyed and re-instantiated.\n      // And this.$children does not respect DOM order.\n      _this5.isMounted = true;\n    });\n  },\n\n  /* istanbul ignore next */\n  deactivated: function deactivated() {\n    this.isMounted = false;\n  },\n\n  /* istanbul ignore next */\n  activated: function activated() {\n    var _this6 = this;\n\n    this.currentTab = toInteger(this.value, -1);\n    this.$nextTick(function () {\n      _this6.updateTabs();\n\n      _this6.isMounted = true;\n    });\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.isMounted = false;\n  },\n  destroyed: function destroyed() {\n    // Ensure no references to child instances exist\n    this.tabs = [];\n  },\n  methods: {\n    registerTab: function registerTab(tab) {\n      var _this7 = this;\n\n      if (!arrayIncludes(this.registeredTabs, tab)) {\n        this.registeredTabs.push(tab);\n        tab.$once('hook:destroyed', function () {\n          _this7.unregisterTab(tab);\n        });\n      }\n    },\n    unregisterTab: function unregisterTab(tab) {\n      this.registeredTabs = this.registeredTabs.slice().filter(function (t) {\n        return t !== tab;\n      });\n    },\n    // DOM observer is needed to detect changes in order of tabs\n    setObserver: function setObserver(on) {\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        var self = this;\n        /* istanbul ignore next: difficult to test mutation observer in JSDOM */\n\n        var handler = function handler() {\n          // We delay the update to ensure that `tab.safeId()` has\n          // updated with the final ID value.\n          self.$nextTick(function () {\n            requestAF(function () {\n              self.updateTabs();\n            });\n          });\n        }; // Watch for changes to <b-tab> sub components\n\n\n        this.$_observer = observeDom(this.$refs.tabsContainer, handler, {\n          childList: true,\n          subtree: false,\n          attributes: true,\n          attributeFilter: ['id']\n        });\n      }\n    },\n    getTabs: function getTabs() {\n      // We use `registeredTabs` as the source of truth for child tab components\n      // We also filter out any `<b-tab>` components that are extended\n      // `<b-tab>` with a root child `<b-tab>`\n      // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/3260\n      var tabs = this.registeredTabs.filter(function (tab) {\n        return tab.$children.filter(function (t) {\n          return t._isTab;\n        }).length === 0;\n      }); // DOM Order of Tabs\n\n      var order = [];\n\n      if (this.isMounted && tabs.length > 0) {\n        // We rely on the DOM when mounted to get the 'true' order of the `<b-tab>` children\n        // `querySelectorAll()` always returns elements in document order, regardless of\n        // order specified in the selector\n        var selector = tabs.map(function (tab) {\n          return \"#\".concat(tab.safeId());\n        }).join(', ');\n        order = selectAll(selector, this.$el).map(function (el) {\n          return el.id;\n        }).filter(identity);\n      } // Stable sort keeps the original order if not found in the `order` array,\n      // which will be an empty array before mount\n\n\n      return stableSort(tabs, function (a, b) {\n        return order.indexOf(a.safeId()) - order.indexOf(b.safeId());\n      });\n    },\n    // Update list of `<b-tab>` children\n    updateTabs: function updateTabs() {\n      // Probe tabs\n      var tabs = this.getTabs(); // Find *last* active non-disabled tab in current tabs\n      // We trust tab state over `currentTab`, in case tabs were added/removed/re-ordered\n\n      var tabIndex = tabs.indexOf(tabs.slice().reverse().find(function (tab) {\n        return tab.localActive && !tab.disabled;\n      })); // Else try setting to `currentTab`\n\n      if (tabIndex < 0) {\n        var currentTab = this.currentTab;\n\n        if (currentTab >= tabs.length) {\n          // Handle last tab being removed, so find the last non-disabled tab\n          tabIndex = tabs.indexOf(tabs.slice().reverse().find(notDisabled));\n        } else if (tabs[currentTab] && !tabs[currentTab].disabled) {\n          // Current tab is not disabled\n          tabIndex = currentTab;\n        }\n      } // Else find *first* non-disabled tab in current tabs\n\n\n      if (tabIndex < 0) {\n        tabIndex = tabs.indexOf(tabs.find(notDisabled));\n      } // Set the current tab state to active\n\n\n      tabs.forEach(function (tab) {\n        // tab.localActive = idx === tabIndex && !tab.disabled\n        tab.localActive = false;\n      });\n\n      if (tabs[tabIndex]) {\n        tabs[tabIndex].localActive = true;\n      } // Update the array of tab children\n\n\n      this.tabs = tabs; // Set the currentTab index (can be -1 if no non-disabled tabs)\n\n      this.currentTab = tabIndex;\n    },\n    // Find a button that controls a tab, given the tab reference\n    // Returns the button vm instance\n    getButtonForTab: function getButtonForTab(tab) {\n      return (this.$refs.buttons || []).find(function (btn) {\n        return btn.tab === tab;\n      });\n    },\n    // Force a button to re-render its content, given a <b-tab> instance\n    // Called by <b-tab> on `update()`\n    updateButton: function updateButton(tab) {\n      var button = this.getButtonForTab(tab);\n\n      if (button && button.$forceUpdate) {\n        button.$forceUpdate();\n      }\n    },\n    // Activate a tab given a `<b-tab>` instance\n    // Also accessed by `<b-tab>`\n    activateTab: function activateTab(tab) {\n      var result = false;\n\n      if (tab) {\n        var index = this.tabs.indexOf(tab);\n\n        if (!tab.disabled && index > -1 && index !== this.currentTab) {\n          var tabEvt = new BvEvent('activate-tab', {\n            cancelable: true,\n            vueTarget: this,\n            componentId: this.safeId()\n          });\n          this.$emit(tabEvt.type, index, this.currentTab, tabEvt);\n\n          if (!tabEvt.defaultPrevented) {\n            result = true;\n            this.currentTab = index;\n          }\n        }\n      } // Couldn't set tab, so ensure v-model is set to `this.currentTab`\n\n      /* istanbul ignore next: should rarely happen */\n\n\n      if (!result && this.currentTab !== this.value) {\n        this.$emit('input', this.currentTab);\n      }\n\n      return result;\n    },\n    // Deactivate a tab given a <b-tab> instance\n    // Accessed by <b-tab>\n    deactivateTab: function deactivateTab(tab) {\n      if (tab) {\n        // Find first non-disabled tab that isn't the one being deactivated\n        // If no tabs are available, then don't deactivate current tab\n        return this.activateTab(this.tabs.filter(function (t) {\n          return t !== tab;\n        }).find(notDisabled));\n      }\n      /* istanbul ignore next: should never/rarely happen */\n\n\n      return false;\n    },\n    // Focus a tab button given its <b-tab> instance\n    focusButton: function focusButton(tab) {\n      var _this8 = this;\n\n      // Wrap in `$nextTick()` to ensure DOM has completed rendering/updating before focusing\n      this.$nextTick(function () {\n        attemptFocus(_this8.getButtonForTab(tab));\n      });\n    },\n    // Emit a click event on a specified <b-tab> component instance\n    emitTabClick: function emitTabClick(tab, evt) {\n      if (isEvent(evt) && tab && tab.$emit && !tab.disabled) {\n        tab.$emit('click', evt);\n      }\n    },\n    // Click handler\n    clickTab: function clickTab(tab, evt) {\n      this.activateTab(tab);\n      this.emitTabClick(tab, evt);\n    },\n    // Move to first non-disabled tab\n    firstTab: function firstTab(focus) {\n      var tab = this.tabs.find(notDisabled);\n\n      if (this.activateTab(tab) && focus) {\n        this.focusButton(tab);\n        this.emitTabClick(tab, focus);\n      }\n    },\n    // Move to previous non-disabled tab\n    previousTab: function previousTab(focus) {\n      var currentIndex = mathMax(this.currentTab, 0);\n      var tab = this.tabs.slice(0, currentIndex).reverse().find(notDisabled);\n\n      if (this.activateTab(tab) && focus) {\n        this.focusButton(tab);\n        this.emitTabClick(tab, focus);\n      }\n    },\n    // Move to next non-disabled tab\n    nextTab: function nextTab(focus) {\n      var currentIndex = mathMax(this.currentTab, -1);\n      var tab = this.tabs.slice(currentIndex + 1).find(notDisabled);\n\n      if (this.activateTab(tab) && focus) {\n        this.focusButton(tab);\n        this.emitTabClick(tab, focus);\n      }\n    },\n    // Move to last non-disabled tab\n    lastTab: function lastTab(focus) {\n      var tab = this.tabs.slice().reverse().find(notDisabled);\n\n      if (this.activateTab(tab) && focus) {\n        this.focusButton(tab);\n        this.emitTabClick(tab, focus);\n      }\n    }\n  },\n  render: function render(h) {\n    var _this9 = this;\n\n    var tabs = this.tabs,\n        noKeyNav = this.noKeyNav,\n        firstTab = this.firstTab,\n        previousTab = this.previousTab,\n        nextTab = this.nextTab,\n        lastTab = this.lastTab; // Currently active tab\n\n    var activeTab = tabs.find(function (tab) {\n      return tab.localActive && !tab.disabled;\n    }); // Tab button to allow focusing when no active tab found (keynav only)\n\n    var fallbackTab = tabs.find(function (tab) {\n      return !tab.disabled;\n    }); // For each `<b-tab>` found create the tab buttons\n\n    var buttons = tabs.map(function (tab, index) {\n      var tabIndex = null; // Ensure at least one tab button is focusable when keynav enabled (if possible)\n\n      if (!noKeyNav) {\n        // Buttons are not in tab index unless active, or a fallback tab\n        tabIndex = -1;\n\n        if (activeTab === tab || !activeTab && fallbackTab === tab) {\n          // Place tab button in tab sequence\n          tabIndex = null;\n        }\n      }\n\n      return h(BVTabButton, {\n        key: tab._uid || index,\n        ref: 'buttons',\n        // Needed to make `this.$refs.buttons` an array\n        refInFor: true,\n        props: {\n          tab: tab,\n          tabs: tabs,\n          id: tab.controlledBy || (tab.safeId ? tab.safeId(\"_BV_tab_button_\") : null),\n          controls: tab.safeId ? tab.safeId() : null,\n          tabIndex: tabIndex,\n          setSize: tabs.length,\n          posInSet: index + 1,\n          noKeyNav: noKeyNav\n        },\n        on: {\n          click: function click(evt) {\n            _this9.clickTab(tab, evt);\n          },\n          first: firstTab,\n          prev: previousTab,\n          next: nextTab,\n          last: lastTab\n        }\n      });\n    }); // Nav\n\n    var nav = h(BNav, {\n      ref: 'nav',\n      class: this.localNavClass,\n      attrs: {\n        role: 'tablist',\n        id: this.safeId('_BV_tab_controls_')\n      },\n      props: {\n        fill: this.fill,\n        justified: this.justified,\n        align: this.align,\n        tabs: !this.noNavStyle && !this.pills,\n        pills: !this.noNavStyle && this.pills,\n        vertical: this.vertical,\n        small: this.small,\n        cardHeader: this.card && !this.vertical\n      }\n    }, [this.normalizeSlot('tabs-start') || h(), buttons, this.normalizeSlot('tabs-end') || h()]);\n    nav = h('div', {\n      key: 'bv-tabs-nav',\n      class: [{\n        'card-header': this.card && !this.vertical && !this.end,\n        'card-footer': this.card && !this.vertical && this.end,\n        'col-auto': this.vertical\n      }, this.navWrapperClass]\n    }, [nav]);\n    var empty = h();\n\n    if (!tabs || tabs.length === 0) {\n      empty = h('div', {\n        key: 'bv-empty-tab',\n        class: ['tab-pane', 'active', {\n          'card-body': this.card\n        }]\n      }, this.normalizeSlot('empty'));\n    } // Main content section\n\n\n    var content = h('div', {\n      ref: 'tabsContainer',\n      key: 'bv-tabs-container',\n      staticClass: 'tab-content',\n      class: [{\n        col: this.vertical\n      }, this.contentClass],\n      attrs: {\n        id: this.safeId('_BV_tab_container_')\n      }\n    }, concat(this.normalizeSlot(), empty)); // Render final output\n\n    return h(this.tag, {\n      staticClass: 'tabs',\n      class: {\n        row: this.vertical,\n        'no-gutters': this.vertical && this.card\n      },\n      attrs: {\n        id: this.safeId()\n      }\n    }, [this.end ? content : h(), [nav], this.end ? h() : content]);\n  }\n});","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { scrapeTranscript } from \"@/components/scrapeTranscript.ts\";\nimport { mapGetters, mapState } from \"vuex\";\nimport {\n  BButton,\n  BCard,\n  BCol,\n  BFormCheckbox,\n  BFormFile,\n  BFormInput,\n  BFormInvalidFeedback,\n  BFormValidFeedback,\n  BJumbotron,\n  BRow,\n  BTab,\n  BTabs,\n  VBTooltip,\n} from \"bootstrap-vue\";\n\n// eslint-disable-next-line\ndeclare const umami: any; // Not initialized here since it's declared elsewhere\n\n@Component({\n  components: {\n    \"b-button\": BButton,\n    \"b-card\": BCard,\n    \"b-col\": BCol,\n    \"b-form-checkbox\": BFormCheckbox,\n    \"b-form-file\": BFormFile,\n    \"b-form-input\": BFormInput,\n    \"b-form-invalid-feedback\": BFormInvalidFeedback,\n    \"b-form-valid-feedback\": BFormValidFeedback,\n    \"b-jumbotron\": BJumbotron,\n    \"b-row\": BRow,\n    \"b-tab\": BTab,\n    \"b-tabs\": BTabs,\n  },\n  directives: {\n    \"b-tooltip\": VBTooltip,\n  },\n  computed: {\n    verifyNewCourse(): boolean {\n      // @ts-expect-error: no u typescript, this does exist\n      return this.newCourse.match(\"^[a-zA-Z]{4}[-_\\\\s]\\\\d{4}$\") !== null;\n    },\n    priorCourses(): string[] {\n      // @ts-expect-error: no u typescript, this does exist\n      return Object.keys(this.getPriorCourses()).sort();\n    },\n    ...mapGetters(\"prerequisites\", [\"getPriorCourses\"]),\n    ...mapState([\"courseIdToCourse\"]),\n    prerequisiteChecking: {\n      get() {\n        return this.$store.state.prerequisites.enableChecking;\n      },\n      set() {\n        const new_val = !this.$store.state.prerequisites.enableChecking;\n        umami.trackEvent(\n          (new_val ? \"Enable\" : \"Disable\") + \" prerequisites\",\n          \"prerequisites\"\n        );\n        this.$store.commit(\"prerequisites/togglePrerequisiteChecking\", new_val);\n      },\n    },\n  },\n})\nexport default class Prerequisites extends Vue {\n  newCourse = \"\";\n  tabNumber = 0;\n  file = null;\n\n  formatCourse(value: string): string {\n    return value\n      .toUpperCase()\n      .replace(\"_\", \"-\")\n      .replace(\" \", \"-\")\n      .substring(0, 9);\n  }\n\n  addCourse(): void {\n    // @ts-expect-error: no u typescript, this does exist\n    if (this.verifyNewCourse) {\n      umami.trackEvent(\"Manual add course\", \"prerequisites\");\n      this.$store.commit(\"prerequisites/addPriorCourse\", this.newCourse);\n    }\n  }\n\n  removeCourse(course: string): void {\n    umami.trackEvent(\"Remove course\", \"prerequisites\");\n    this.$store.commit(\"prerequisites/removePriorCourse\", course);\n  }\n\n  importTranscript(): void {\n    const store = this.$store;\n    const bvModal = this.$bvModal;\n    const importedTranscript = scrapeTranscript(\"transcriptFileUpload\");\n    importedTranscript\n      .catch(function (err: string) {\n        //eslint-disable-next-line\n        console.log(err);\n        bvModal.show(\"transcriptImportModal\");\n      })\n      .then(function (transcript) {\n        if (!transcript) {\n          //eslint-disable-next-line\n          console.log(\"transcript is void\");\n          bvModal.show(\"transcriptImportModal\");\n          return;\n        }\n\n        umami.trackEvent(\"Import transcript\", \"prerequisites\");\n        for (const term of transcript.terms) {\n          for (const course of term.courses) {\n            store.commit(\n              \"prerequisites/addPriorCourse\",\n              course.subject.toUpperCase() + \"-\" + course.course\n            );\n          }\n        }\n      });\n    this.tabNumber = 0;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--14-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Prerequisites.vue?vue&type=template&id=04419f01&\"\nimport script from \"./Prerequisites.vue?vue&type=script&lang=ts&\"\nexport * from \"./Prerequisites.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Prerequisites.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}