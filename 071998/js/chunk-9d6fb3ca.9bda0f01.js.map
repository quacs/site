{"version":3,"sources":["webpack:///./src/views/Prerequisites.vue?e5ac","webpack:///./src/components/scrapeTranscript.ts","webpack:///./node_modules/bootstrap-vue/esm/components/form-file/form-file.js","webpack:///./node_modules/bootstrap-vue/esm/components/tabs/tab.js","webpack:///./node_modules/bootstrap-vue/esm/components/tabs/tabs.js","webpack:///./node_modules/bootstrap-vue/esm/utils/stable-sort.js","webpack:///./src/views/Prerequisites.vue","webpack:///./src/views/Prerequisites.vue?83a0","webpack:///./src/views/Prerequisites.vue?ac36","webpack:///./src/views/Prerequisites.vue?394a"],"names":["_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","model","value","callback","$$v","prerequisiteChecking","expression","tabNumber","verifyNewCourse","formatCourse","on","$event","type","indexOf","_k","keyCode","key","addCourse","apply","arguments","newCourse","_l","course","staticStyle","removeCourse","_s","directives","name","rawName","modifiers","Boolean","file","importTranscript","scopedSlots","_u","fn","ref","ok","staticRenderFns","transcriptGetter","transcriptRows","rowIdx","childIdx","children","innerText","trim","scrapeTranscript","fileId","Promise","element","document","getElementById","files","length","resolve","reject","reader","FileReader","onload","e","target","result","onerror","readAsText","text","parser","DOMParser","transcript","parseFromString","transcriptTable","getElementsByClassName","getElementsByTagName","Array","from","filter","child","parentElement","getTranscriptData","data","studentType","currentProgram","college","majors","terms","rowNum","parsingStudentInfo","rowText","push","startsWith","termName","slice","courses","subject","title","grade","creditHours","qualityPoints","repeatStatus","columns","attemptHours","passedHours","earnedHours","gpaHours","gpa","_watch","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","enumerable","_objectSpread","i","source","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","obj","configurable","writable","_objectSpread2","_makeModelMixin","defaultValue","validator","warn","VALUE_EMPTY_DEPRECATED_MSG","modelMixin","mixin","modelProps","props","MODEL_PROP_NAME","prop","MODEL_EVENT_NAME","event","isValidValue","every","v","item","getAsEntry","webkitGetAsEntry","dataTransferItemList","traverseDirectories","undefined","all","array","kind","map","entry","isDirectory","createReader","concat","isFile","$path","identity","getAllFileEntriesInDirectory","directoryReader","path","entryPromises","readDirectoryEntries","readEntries","entries","then","accept","browseText","capture","directory","dropPlaceholder","fileNameFormatter","multiple","noDrop","noDropPlaceholder","noTraverse","placeholder","BFormFile","extend","mixins","inheritAttrs","dragging","dropAllowed","hasFocus","computed","computedAccept","split","extOrType","startMatch","endMatch","test","rx","RegExp","computedCapture","computedAttrs","disabled","required","form","bvAttrs","id","safeId","webkitdirectory","computedFileNameFormatter","defaultFileNameFormatter","clonedFiles","flattenedFiles","fileNames","labelContent","normalizeSlot","allowed","hasNormalizedSlot","filesTraversed","names","watch","newValue","reset","oldValue","$emit","created","$_form","mounted","$form","$el","beforeDestroy","methods","isFileValid","some","a","isFilesArrayValid","_this","join","setFiles","setInputFiles","dataTransfer","ClipboardEvent","clipboardData","DataTransfer","items","add","$refs","input","_unused","$input","_unused2","handleFiles","isDrop","filteredFiles","focusHandler","plain","onChange","_this2","_event$dataTransfer","webkitRelativePath","onDragenter","_event$dataTransfer2","dropEffect","onDragover","_event$dataTransfer3","onDragleave","_this3","$nextTick","onDrop","_this4","render","h","custom","size","stateClass","class","focus","style","zIndex","change","focusin","focusout","$label","for","pointerEvents","dragenter","dragover","dragleave","drop","MODEL_PROP_NAME_ACTIVE","MODEL_EVENT_NAME_ACTIVE","BTab","inject","bvTabs","default","localActive","_isTab","tabClasses","active","card","noBody","activeTabClass","controlledBy","buttonId","computedNoFade","fade","computedLazy","lazy","activate","deactivate","firstTab","registerTab","updated","updateButton","unregisterTab","activateTab","deactivateTab","$content","tag","role","mode","noFade","stableSort","compareFn","index","sort","b","bind","notDisabled","tab","BVTabButton","controls","noKeyNav","posInSet","setSize","tabIndex","link","handleEvt","shiftKey","_this$tab","titleItemClass","titleLinkClass","titleLinkAttributes","$link","activeNavItemClass","tabindex","click","keydown","navProps","contentClass","end","navClass","navWrapperClass","noNavStyle","BTabs","provide","currentTab","tabs","registeredTabs","localNavClass","classes","vertical","$tab","previousTab","nextTab","updateTabs","$_observer","setObserver","$t","disconnect","handler","content","childList","subtree","attributes","attributeFilter","getTabs","$tabs","$children","order","selector","reverse","find","getButtonForTab","buttons","$btn","$button","$forceUpdate","tabEvent","cancelable","vueTarget","componentId","defaultPrevented","focusButton","emitTabClick","clickTab","currentIndex","math","lastTab","align","fill","justified","pills","small","$activeTab","$fallbackTab","$buttons","_on","refInFor","$nav","cardHeader","$empty","col","row","toUpperCase","replace","substring","$store","commit","store","bvModal","$bvModal","importedTranscript","catch","err","console","log","show","term","Prerequisites","components","match","priorCourses","getPriorCourses","get","state","prerequisites","enableChecking","set","new_val","component"],"mappings":"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","file":"js/chunk-9d6fb3ca.9bda0f01.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"home\"},[_c('div',[_c('b-jumbotron',{attrs:{\"header\":\"Prerequisites\",\"header-level\":\"4\",\"lead\":\"Add courses you have already taken to QuACS to perform prerequisite checking\"}},[_c('p',[_vm._v(\" Once you have added courses you've already taken to the website, sections will warn you if you don't meet the requirements. \"),_c('br'),_vm._v(\" (You may still be able to be signed into these courses. Contact the professor and ask!) \"),_c('br'),_c('br'),_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(\" This prerequisite information comes from SIS. If SIS only checks prerequisites for some sections of a course, the other sections will not show a warning. This also means that our prerequisite information may disagree with the course catalog, but it will be accurate for course registration.\")])]),_c('b-form-checkbox',{attrs:{\"switch\":\"\",\"size\":\"lg\"},model:{value:(_vm.prerequisiteChecking),callback:function ($$v) {_vm.prerequisiteChecking=$$v},expression:\"prerequisiteChecking\"}},[_vm._v(\"Enable prerequisite checking\")])],1)],1),_c('div',[_c('b-card',{attrs:{\"no-body\":\"\"}},[_c('b-tabs',{attrs:{\"card\":\"\"},model:{value:(_vm.tabNumber),callback:function ($$v) {_vm.tabNumber=$$v},expression:\"tabNumber\"}},[_c('b-tab',{attrs:{\"title\":\"Manual Upload\",\"active\":\"\"}},[_c('b-row',{staticClass:\"my-1\"},[_c('b-col',[_c('b-form-input',{attrs:{\"state\":_vm.verifyNewCourse,\"placeholder\":\"Course Code\",\"aria-lable\":\"Course Code\",\"trim\":\"\",\"disabled\":!_vm.prerequisiteChecking,\"title\":_vm.prerequisiteChecking\n                    ? 'Enter a course here'\n                    : 'Enable prerequisites to add a course',\"formatter\":_vm.formatCourse},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addCourse.apply(null, arguments)}},model:{value:(_vm.newCourse),callback:function ($$v) {_vm.newCourse=$$v},expression:\"newCourse\"}}),_c('b-form-invalid-feedback',[_vm._v(\" Format \\\"ABCD-1234\\\" \")]),_c('b-form-valid-feedback',{attrs:{\"id\":\"valid-feedback\"}},[_vm._v(\" Format \\\"ABCD-1234\\\" \")])],1),_c('b-col',[_c('b-button',{attrs:{\"disabled\":!_vm.verifyNewCourse || !_vm.prerequisiteChecking,\"title\":_vm.prerequisiteChecking\n                    ? 'Enter a course here'\n                    : 'Enable prerequisites to add a course'},on:{\"click\":_vm.addCourse}},[_vm._v(\"Add Course\")])],1)],1),_c('br'),_c('h3',[_vm._v(\"Courses you have already taken:\")]),_vm._l((_vm.priorCourses),function(course){return _c('div',{key:course,staticStyle:{\"margin-left\":\"2rem\",\"margin-bottom\":\"0.5rem\"}},[_c('font-awesome-icon',{staticClass:\"open_close_icon, trash-btn\",attrs:{\"icon\":['fas', 'trash']},on:{\"click\":function($event){return _vm.removeCourse(course)}}}),_vm._v(\" \"+_vm._s(course)+\" \")],1)})],2),_c('b-tab',{attrs:{\"title\":\"Import Courses\"}},[_c('h3',[_vm._v(\"Instructions\")]),_c('p',[_vm._v(\" In order to import your courses you will need to upload your transcript. Don't worry, QuACS is 100% client-side which means that all the data in your transcript stays on your computer and there is no way for anyone - including the QuACS developers - to view the data. \")]),_c('h3',{staticClass:\"mobile-only\"},[_vm._v(\" NOTE: Transcript importing does not work on mobile because there is no way to get your transcript as an html file. We recommend you use a computer for checking prerequisites, or type out your courses by hand if you wish to stay on mobile. \"),_c('br'),_c('br')]),_c('p',[_vm._v(\" 1) Go to \"),_c('a',{attrs:{\"href\":\"https://sis.rpi.edu\",\"target\":\"_blank\"}},[_vm._v(\"https://sis.rpi.edu\")])]),_c('p',[_vm._v(\"2) Log in and navigate to the Student Menu tab\")]),_c('p',[_vm._v(\"3) Click \\\"View Transcript\\\"\")]),_c('p',[_vm._v(\" 4) Press the Submit button (leave the options as \\\"All Levels\\\" and \\\"Unofficial Web Transcript\\\") \")]),_c('p',[_vm._v(\" 5) Press CTRL+S on your keyboard (or right click and press \\\"Save As\\\") and save the page as a .html file. \")]),_c('p',[_vm._v(\" 6) Upload the .html file here on QuACS and click \\\"Import Transcript\\\" \")]),_c('p'),_c('form',{attrs:{\"onsubmit\":\"return false;\",\"method\":\"post\"}},[_c('b-form-file',{directives:[{name:\"b-tooltip\",rawName:\"v-b-tooltip.disabled\",value:(_vm.prerequisiteChecking),expression:\"prerequisiteChecking\",modifiers:{\"disabled\":true}},{name:\"b-tooltip\",rawName:\"v-b-tooltip.hover\",modifiers:{\"hover\":true}}],attrs:{\"id\":\"transcriptFileUpload\",\"type\":\"file\",\"name\":\"file upload\",\"accept\":\".html,.htm\",\"state\":Boolean(_vm.file),\"placeholder\":\"Click to upload your transcript or drop it here...\",\"drop-placeholder\":\"Drop transcript here...\",\"required\":\"\",\"title\":_vm.prerequisiteChecking\n                  ? ''\n                  : 'Enable prerequisites to upload your transcript',\"disabled\":!_vm.prerequisiteChecking},on:{\"change\":function($event){return _vm.importTranscript()}},model:{value:(_vm.file),callback:function ($$v) {_vm.file=$$v},expression:\"file\"}})],1)])],1)],1)],1),_c('b-modal',{attrs:{\"id\":\"transcriptImportModal\",\"title\":\"Import Error\"},scopedSlots:_vm._u([{key:\"modal-footer\",fn:function(ref){\n                  var ok = ref.ok;\nreturn [_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":function($event){return ok()}}},[_vm._v(\" Close \")])]}}])},[_c('p',[_vm._v(\" There was an issue importing from your transcript. These issues are hard to debug because we don't have access to many test transcript files. \")]),_c('p',[_vm._v(\"For now you will have to add your courses by hand... sorry :(\")]),_c('p',[_vm._v(\" If you would like to help us fix this issue, join our discord so we can talk: \")]),_c('a',{attrs:{\"href\":\"https://discord.gg/EyGZTAP\",\"title\":\"Join our development Discord server\",\"aria-label\":\"Join our development Discord server\",\"target\":\"_blank\"}},[_vm._v(\"https://discord.gg/EyGZTAP \")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","interface Course {\n  subject: string;\n  course: string;\n  title: string;\n  grade: string;\n  creditHours: string;\n  qualityPoints?: string;\n  repeatStatus?: string;\n}\n\ninterface Term {\n  name: string;\n  courses: Course[];\n  attemptHours?: string;\n  passedHours?: string;\n  earnedHours?: string;\n  gpaHours?: string;\n  qualityPoints?: string;\n  gpa?: string;\n}\n\nexport interface StudentData {\n  name: string;\n  studentType: string;\n  currentProgram: string;\n  college: string;\n  majors: string[];\n  terms: Term[];\n}\n\nconst transcriptGetter =\n  (transcriptRows: HTMLTableRowElement[]) =>\n  (rowIdx: number, childIdx: number): string =>\n    (transcriptRows[rowIdx].children[childIdx] as HTMLElement).innerText.trim();\n\nexport async function scrapeTranscript(fileId: string): Promise<StudentData> {\n  const element = document.getElementById(fileId) as HTMLInputElement | null;\n  if (element === null) {\n    throw \"invalid fileId\";\n  }\n\n  const files = element.files;\n  if (files === null || files.length < 1) {\n    throw \"missing file\";\n  }\n\n  if (files[0].type !== \"text/html\") {\n    throw `wrong type \"${files[0].type}\"`;\n  }\n\n  const text = await new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = function (e) {\n      if (e.target === null) {\n        reject(e.target);\n      } else {\n        resolve(e.target.result);\n      }\n    };\n\n    reader.onerror = function (e) {\n      reject(e);\n    };\n\n    reader.readAsText(files[0]);\n  });\n\n  if (text === null) {\n    throw \"error reading file\";\n  }\n\n  const parser = new DOMParser();\n  const transcript = parser.parseFromString(text as string, \"text/html\");\n\n  const transcriptTable = transcript\n    .getElementsByClassName(\"datadisplaytable\")[0]\n    .getElementsByTagName(\"tbody\")[0];\n  const transcriptRows = Array.from(\n    transcriptTable.getElementsByTagName(\"tr\")\n  ).filter((child) => child.parentElement === transcriptTable);\n\n  const getTranscriptData = transcriptGetter(transcriptRows);\n\n  const data: StudentData = {\n    name: \"\",\n    studentType: \"\",\n    currentProgram: \"\",\n    college: \"\",\n    majors: [],\n    terms: [],\n  };\n\n  let rowNum = 0;\n  let parsingStudentInfo = true;\n  while (rowNum < transcriptRows.length && parsingStudentInfo) {\n    const rowText = getTranscriptData(rowNum, 0);\n\n    switch (rowText) {\n      case \"Name :\":\n        data.name = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Student Type: \":\n        data.studentType = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Current Program: \":\n        rowNum++; // Current Program is stored in the next row, not a child element\n        data.currentProgram = getTranscriptData(rowNum, 0);\n        break;\n\n      case \"College:\":\n        data.college = getTranscriptData(rowNum, 1);\n        break;\n\n      case \"Major:\":\n        data.majors.push(getTranscriptData(rowNum, 1));\n        break;\n\n      default:\n        if (\n          getTranscriptData(rowNum, 0).startsWith(\n            \"***Transcript type:UWEB is NOT Official ***\"\n          )\n        ) {\n          //\n          parsingStudentInfo = false;\n        }\n        break;\n    }\n\n    rowNum++; // continue to next row\n  }\n\n  rowNum += 3; // skip over the dividers\n  if (\n    getTranscriptData(rowNum, 0).startsWith(\n      \"TRANSFER CREDIT ACCEPTED BY INSTITUTION\"\n    )\n  ) {\n    // Parse transfer terms\n    rowNum++; // move off of header\n\n    while (rowNum < transcriptRows.length) {\n      if (\n        getTranscriptData(rowNum, 0).startsWith(\"INSTITUTION CREDIT\") ||\n        getTranscriptData(rowNum, 0).startsWith(\"TRANSCRIPT TOTALS\")\n      ) {\n        // We're done parsing transfer terms, move on to RPI courses\n        break;\n      }\n\n      const termName = `${getTranscriptData(rowNum, 0).slice(\n        0,\n        -1\n      )} (transfer from ${getTranscriptData(rowNum, 1)})`;\n      rowNum++; // move off of semester/school name\n      rowNum++; // move off of table headers\n\n      // Loop over all of the courses for this semester\n      const courses: Course[] = [];\n      while (rowNum < transcriptRows.length) {\n        const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n        if (columns[0].innerText.trim() === \"\") {\n          // This marks the end of the term (this element has a bunch of headers too)\n          // so break out of parsing\n          break;\n        }\n\n        courses.push({\n          subject: columns[0].innerText.trim(),\n          course: columns[1].innerText.trim(),\n          title: columns[2].innerText.trim(),\n          grade: columns[3].innerText.trim(),\n          creditHours: columns[4].innerText.trim(),\n          qualityPoints: columns[5].innerText.trim(),\n          repeatStatus: columns[6].innerText.trim(),\n        });\n\n        rowNum++;\n      }\n\n      rowNum++; // move off of summary headers\n\n      // We're now pointing at the term summary.  We technically don't need to parse\n      // this data, but hey, might as well while we're here (this isn't used anywhere\n      // but it may be in the future).  There's no reason to not scrape it since this\n      // all stays client-side anyways, but it'll save us time later if we need it for\n      // something (cough cough, quacsworks)\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n      data.terms.push({\n        name: termName,\n        courses: courses,\n        attemptHours: columns[0].innerText.trim(),\n        passedHours: columns[1].innerText.trim(),\n        earnedHours: columns[2].innerText.trim(),\n        gpaHours: columns[3].innerText.trim(),\n        qualityPoints: columns[4].innerText.trim(),\n        gpa: columns[5].innerText.trim(),\n      });\n\n      // Skip over trailing rows\n      rowNum += 3;\n    }\n  }\n\n  // If there's institution credit, we should be pointing at it\n  if (getTranscriptData(rowNum, 0).startsWith(\"INSTITUTION CREDIT\")) {\n    // Parse RPI terms\n    rowNum++; // Move off of header\n\n    while (rowNum < transcriptRows.length) {\n      if (getTranscriptData(rowNum, 0).startsWith(\"TRANSCRIPT TOTALS\")) {\n        // done parsing\n        break;\n      }\n\n      // We're pointing at the term name\n      const termName = getTranscriptData(rowNum, 0);\n      rowNum++; // move off of term name\n      rowNum += 2; // move off of metadata\n      while (getTranscriptData(rowNum, 0) === \"Additional Standing:\") {\n        // skip additional metadata\n        rowNum++;\n      }\n      rowNum++; // move off of table headers\n\n      // Loop over all of the courses for this semester\n      const courses: Course[] = [];\n      while (rowNum < transcriptRows.length) {\n        const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n        if (columns.length === 0) {\n          // This marks the end of the term (this element has a bunch of headers too)\n          // so break out of parsing\n          break;\n        }\n\n        courses.push({\n          subject: columns[0].innerText.trim(),\n          course: columns[1].innerText.trim(),\n          title: columns[2].innerText.trim(),\n          grade: columns[3].innerText.trim(),\n          creditHours: columns[4].innerText.trim(),\n          qualityPoints: columns[5].innerText.trim(),\n          repeatStatus: columns[6].innerText.trim(),\n        });\n\n        rowNum++;\n      }\n\n      rowNum++; // move off of \"Term Totals (Undergraduate)\"\n      rowNum++; // move off of summary headers\n\n      // We're now pointing at the term summary.  We technically don't need to parse\n      // this data, but hey, might as well while we're here (this isn't used anywhere\n      // but it may be in the future).  There's no reason to not scrape it since this\n      // all stays client-side anyways, but it'll save us time later if we need it for\n      // something (cough cough, quacsworks)\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n      data.terms.push({\n        name: termName,\n        courses: courses,\n        attemptHours: columns[0].innerText.trim(),\n        passedHours: columns[1].innerText.trim(),\n        earnedHours: columns[2].innerText.trim(),\n        gpaHours: columns[3].innerText.trim(),\n        qualityPoints: columns[4].innerText.trim(),\n        gpa: columns[5].innerText.trim(),\n      });\n\n      // Skip over trailing rows\n      rowNum += 4;\n    }\n  }\n\n  rowNum += 7; // skip over transcript totals\n  if (getTranscriptData(rowNum, 0).startsWith(\"COURSES IN PROGRESS\")) {\n    // Parse current term\n    rowNum++; // Move off of header\n\n    // We're pointing at the term name\n    const termName = getTranscriptData(rowNum, 0);\n    rowNum++; // move off of term name\n    rowNum++; // move off of metadata\n    rowNum++; // move off of table headers\n\n    // Loop over all of the courses for this semester\n    const courses: Course[] = [];\n    while (rowNum < transcriptRows.length) {\n      const columns = transcriptRows[rowNum].getElementsByTagName(\"td\");\n\n      if (columns[0].innerText.trim() === \"\") {\n        // This marks the end of the term (this element has a bunch of headers too)\n        // so break out of parsing\n        break;\n      }\n\n      courses.push({\n        subject: columns[0].innerText.trim(),\n        course: columns[1].innerText.trim(),\n        title: columns[2].innerText.trim(),\n        grade: columns[3].innerText.trim(),\n        creditHours: columns[4].innerText.trim(),\n      });\n\n      rowNum++;\n    }\n\n    rowNum++; // move off of summary headers\n\n    // We're now pointing at the term summary.\n    data.terms.push({\n      name: termName,\n      courses: courses,\n    });\n  }\n\n  return data;\n}\n","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_FORM_FILE } from '../../constants/components';\nimport { HAS_PROMISE_SUPPORT } from '../../constants/env';\nimport { EVENT_NAME_CHANGE, EVENT_OPTIONS_PASSIVE } from '../../constants/events';\nimport { PROP_TYPE_ARRAY, PROP_TYPE_BOOLEAN, PROP_TYPE_FUNCTION, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_DROP_PLACEHOLDER, SLOT_NAME_FILE_NAME, SLOT_NAME_PLACEHOLDER } from '../../constants/slots';\nimport { RX_EXTENSION, RX_STAR } from '../../constants/regex';\nimport { File } from '../../constants/safe-types';\nimport { from as arrayFrom, flatten, flattenDeep } from '../../utils/array';\nimport { cloneDeep } from '../../utils/clone-deep';\nimport { closest } from '../../utils/dom';\nimport { eventOn, eventOff, stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isArray, isFile, isFunction, isNull, isUndefinedOrNull } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { makeModelMixin } from '../../utils/model';\nimport { sortKeys } from '../../utils/object';\nimport { hasPropFunction, makeProp, makePropsConfigurable } from '../../utils/props';\nimport { escapeRegExp } from '../../utils/string';\nimport { warn } from '../../utils/warn';\nimport { attrsMixin } from '../../mixins/attrs';\nimport { formControlMixin, props as formControlProps } from '../../mixins/form-control';\nimport { formCustomMixin, props as formCustomProps } from '../../mixins/form-custom';\nimport { formStateMixin, props as formStateProps } from '../../mixins/form-state';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { props as formSizeProps } from '../../mixins/form-size'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: [PROP_TYPE_ARRAY, File],\n  defaultValue: null,\n  validator: function validator(value) {\n    /* istanbul ignore next */\n    if (value === '') {\n      warn(VALUE_EMPTY_DEPRECATED_MSG, NAME_FORM_FILE);\n      return true;\n    }\n\n    return isUndefinedOrNull(value) || isValidValue(value);\n  }\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event;\n\nvar VALUE_EMPTY_DEPRECATED_MSG = 'Setting \"value\"/\"v-model\" to an empty string for reset is deprecated. Set to \"null\" instead.'; // --- Helper methods ---\n\nvar isValidValue = function isValidValue(value) {\n  return isFile(value) || isArray(value) && value.every(function (v) {\n    return isValidValue(v);\n  });\n}; // Helper method to \"safely\" get the entry from a data-transfer item\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getDataTransferItemEntry = function getDataTransferItemEntry(item) {\n  return isFunction(item.getAsEntry) ? item.getAsEntry() : isFunction(item.webkitGetAsEntry) ? item.webkitGetAsEntry() : null;\n}; // Drop handler function to get all files\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntries = function getAllFileEntries(dataTransferItemList) {\n  var traverseDirectories = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  return Promise.all(arrayFrom(dataTransferItemList).filter(function (item) {\n    return item.kind === 'file';\n  }).map(function (item) {\n    var entry = getDataTransferItemEntry(item);\n\n    if (entry) {\n      if (entry.isDirectory && traverseDirectories) {\n        return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(entry.name, \"/\"));\n      } else if (entry.isFile) {\n        return new Promise(function (resolve) {\n          entry.file(function (file) {\n            file.$path = '';\n            resolve(file);\n          });\n        });\n      }\n    }\n\n    return null;\n  }).filter(identity));\n}; // Get all the file entries (recursive) in a directory\n\n/* istanbul ignore next: not supported in JSDOM */\n\n\nvar getAllFileEntriesInDirectory = function getAllFileEntriesInDirectory(directoryReader) {\n  var path = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n  return new Promise(function (resolve) {\n    var entryPromises = [];\n\n    var readDirectoryEntries = function readDirectoryEntries() {\n      directoryReader.readEntries(function (entries) {\n        if (entries.length === 0) {\n          resolve(Promise.all(entryPromises).then(function (entries) {\n            return flatten(entries);\n          }));\n        } else {\n          entryPromises.push(Promise.all(entries.map(function (entry) {\n            if (entry) {\n              if (entry.isDirectory) {\n                return getAllFileEntriesInDirectory(entry.createReader(), \"\".concat(path).concat(entry.name, \"/\"));\n              } else if (entry.isFile) {\n                return new Promise(function (resolve) {\n                  entry.file(function (file) {\n                    file.$path = \"\".concat(path).concat(file.name);\n                    resolve(file);\n                  });\n                });\n              }\n            }\n\n            return null;\n          }).filter(identity)));\n          readDirectoryEntries();\n        }\n      });\n    };\n\n    readDirectoryEntries();\n  });\n}; // --- Props ---\n\n\nvar props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), formControlProps), formCustomProps), formStateProps), formSizeProps), {}, {\n  accept: makeProp(PROP_TYPE_STRING, ''),\n  browseText: makeProp(PROP_TYPE_STRING, 'Browse'),\n  // Instruct input to capture from camera\n  capture: makeProp(PROP_TYPE_BOOLEAN, false),\n  directory: makeProp(PROP_TYPE_BOOLEAN, false),\n  dropPlaceholder: makeProp(PROP_TYPE_STRING, 'Drop files here'),\n  fileNameFormatter: makeProp(PROP_TYPE_FUNCTION),\n  multiple: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDrop: makeProp(PROP_TYPE_BOOLEAN, false),\n  noDropPlaceholder: makeProp(PROP_TYPE_STRING, 'Not allowed'),\n  // TODO:\n  //   Should we deprecate this and only support flat file structures?\n  //   Nested file structures are only supported when files are dropped\n  //   A Chromium \"bug\" prevents `webkitEntries` from being populated\n  //   on the file input's `change` event and is marked as \"WontFix\"\n  //   Mozilla implemented the behavior the same way as Chromium\n  //   See: https://bugs.chromium.org/p/chromium/issues/detail?id=138987\n  //   See: https://bugzilla.mozilla.org/show_bug.cgi?id=1326031\n  noTraverse: makeProp(PROP_TYPE_BOOLEAN, false),\n  placeholder: makeProp(PROP_TYPE_STRING, 'No file chosen')\n})), NAME_FORM_FILE); // --- Main component ---\n// @vue/component\n\nexport var BFormFile = /*#__PURE__*/Vue.extend({\n  name: NAME_FORM_FILE,\n  mixins: [attrsMixin, idMixin, modelMixin, normalizeSlotMixin, formControlMixin, formStateMixin, formCustomMixin, normalizeSlotMixin],\n  inheritAttrs: false,\n  props: props,\n  data: function data() {\n    return {\n      files: [],\n      dragging: false,\n      // IE 11 doesn't respect setting `event.dataTransfer.dropEffect`,\n      // so we handle it ourselves as well\n      // https://stackoverflow.com/a/46915971/2744776\n      dropAllowed: !this.noDrop,\n      hasFocus: false\n    };\n  },\n  computed: {\n    // Convert `accept` to an array of `[{ RegExpr, isMime }, ...]`\n    computedAccept: function computedAccept() {\n      var accept = this.accept;\n      accept = (accept || '').trim().split(/[,\\s]+/).filter(identity); // Allow any file type/extension\n\n      if (accept.length === 0) {\n        return null;\n      }\n\n      return accept.map(function (extOrType) {\n        var prop = 'name';\n        var startMatch = '^';\n        var endMatch = '$';\n\n        if (RX_EXTENSION.test(extOrType)) {\n          // File extension /\\.ext$/\n          startMatch = '';\n        } else {\n          // MIME type /^mime\\/.+$/ or /^mime\\/type$/\n          prop = 'type';\n\n          if (RX_STAR.test(extOrType)) {\n            endMatch = '.+$'; // Remove trailing `*`\n\n            extOrType = extOrType.slice(0, -1);\n          }\n        } // Escape all RegExp special chars\n\n\n        extOrType = escapeRegExp(extOrType);\n        var rx = new RegExp(\"\".concat(startMatch).concat(extOrType).concat(endMatch));\n        return {\n          rx: rx,\n          prop: prop\n        };\n      });\n    },\n    computedCapture: function computedCapture() {\n      var capture = this.capture;\n      return capture === true || capture === '' ? true : capture || null;\n    },\n    computedAttrs: function computedAttrs() {\n      var name = this.name,\n          disabled = this.disabled,\n          required = this.required,\n          form = this.form,\n          computedCapture = this.computedCapture,\n          accept = this.accept,\n          multiple = this.multiple,\n          directory = this.directory;\n      return _objectSpread(_objectSpread({}, this.bvAttrs), {}, {\n        type: 'file',\n        id: this.safeId(),\n        name: name,\n        disabled: disabled,\n        required: required,\n        form: form || null,\n        capture: computedCapture,\n        accept: accept || null,\n        multiple: multiple,\n        directory: directory,\n        webkitdirectory: directory,\n        'aria-required': required ? 'true' : null\n      });\n    },\n    computedFileNameFormatter: function computedFileNameFormatter() {\n      var fileNameFormatter = this.fileNameFormatter;\n      return hasPropFunction(fileNameFormatter) ? fileNameFormatter : this.defaultFileNameFormatter;\n    },\n    clonedFiles: function clonedFiles() {\n      return cloneDeep(this.files);\n    },\n    flattenedFiles: function flattenedFiles() {\n      return flattenDeep(this.files);\n    },\n    fileNames: function fileNames() {\n      return this.flattenedFiles.map(function (file) {\n        return file.name;\n      });\n    },\n    labelContent: function labelContent() {\n      // Draging active\n\n      /* istanbul ignore next: used by drag/drop which can't be tested easily */\n      if (this.dragging && !this.noDrop) {\n        return (// TODO: Add additional scope with file count, and other not-allowed reasons\n          this.normalizeSlot(SLOT_NAME_DROP_PLACEHOLDER, {\n            allowed: this.dropAllowed\n          }) || (this.dropAllowed ? this.dropPlaceholder : this.$createElement('span', {\n            staticClass: 'text-danger'\n          }, this.noDropPlaceholder))\n        );\n      } // No file chosen\n\n\n      if (this.files.length === 0) {\n        return this.normalizeSlot(SLOT_NAME_PLACEHOLDER) || this.placeholder;\n      }\n\n      var flattenedFiles = this.flattenedFiles,\n          clonedFiles = this.clonedFiles,\n          fileNames = this.fileNames,\n          computedFileNameFormatter = this.computedFileNameFormatter; // There is a slot for formatting the files/names\n\n      if (this.hasNormalizedSlot(SLOT_NAME_FILE_NAME)) {\n        return this.normalizeSlot(SLOT_NAME_FILE_NAME, {\n          files: flattenedFiles,\n          filesTraversed: clonedFiles,\n          names: fileNames\n        });\n      }\n\n      return computedFileNameFormatter(flattenedFiles, clonedFiles, fileNames);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue) {\n    if (!newValue || isArray(newValue) && newValue.length === 0) {\n      this.reset();\n    }\n  }), _defineProperty(_watch, \"files\", function files(newValue, oldValue) {\n    if (!looseEqual(newValue, oldValue)) {\n      var multiple = this.multiple,\n          noTraverse = this.noTraverse;\n      var files = !multiple || noTraverse ? flattenDeep(newValue) : newValue;\n      this.$emit(MODEL_EVENT_NAME, multiple ? files : files[0] || null);\n    }\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_form = null;\n  },\n  mounted: function mounted() {\n    // Listen for form reset events, to reset the file input\n    var $form = closest('form', this.$el);\n\n    if ($form) {\n      eventOn($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n      this.$_form = $form;\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    var $form = this.$_form;\n\n    if ($form) {\n      eventOff($form, 'reset', this.reset, EVENT_OPTIONS_PASSIVE);\n    }\n  },\n  methods: {\n    isFileValid: function isFileValid(file) {\n      if (!file) {\n        return false;\n      }\n\n      var accept = this.computedAccept;\n      return accept ? accept.some(function (a) {\n        return a.rx.test(file[a.prop]);\n      }) : true;\n    },\n    isFilesArrayValid: function isFilesArrayValid(files) {\n      var _this = this;\n\n      return isArray(files) ? files.every(function (file) {\n        return _this.isFileValid(file);\n      }) : this.isFileValid(files);\n    },\n    defaultFileNameFormatter: function defaultFileNameFormatter(flattenedFiles, clonedFiles, fileNames) {\n      return fileNames.join(', ');\n    },\n    setFiles: function setFiles(files) {\n      // Reset the dragging flags\n      this.dropAllowed = !this.noDrop;\n      this.dragging = false; // Set the selected files\n\n      this.files = this.multiple ? this.directory ? files : flattenDeep(files) : flattenDeep(files).slice(0, 1);\n    },\n\n    /* istanbul ignore next: used by Drag/Drop */\n    setInputFiles: function setInputFiles(files) {\n      // Try an set the file input files array so that `required`\n      // constraint works for dropped files (will fail in IE11 though)\n      // To be used only when dropping files\n      try {\n        // Firefox < 62 workaround exploiting https://bugzilla.mozilla.org/show_bug.cgi?id=1422655\n        var dataTransfer = new ClipboardEvent('').clipboardData || new DataTransfer(); // Add flattened files to temp `dataTransfer` object to get a true `FileList` array\n\n        flattenDeep(cloneDeep(files)).forEach(function (file) {\n          // Make sure to remove the custom `$path` attribute\n          delete file.$path;\n          dataTransfer.items.add(file);\n        });\n        this.$refs.input.files = dataTransfer.files;\n      } catch (_unused) {}\n    },\n    reset: function reset() {\n      // IE 11 doesn't support setting `$input.value` to `''` or `null`\n      // So we use this little extra hack to reset the value, just in case\n      // This also appears to work on modern browsers as well\n      // Wrapped in try in case IE 11 or mobile Safari crap out\n      try {\n        var $input = this.$refs.input;\n        $input.value = '';\n        $input.type = '';\n        $input.type = 'file';\n      } catch (_unused2) {}\n\n      this.files = [];\n    },\n    handleFiles: function handleFiles(files) {\n      var isDrop = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n      if (isDrop) {\n        // When dropped, make sure to filter files with the internal `accept` logic\n        var filteredFiles = files.filter(this.isFilesArrayValid); // Only update files when we have any after filtering\n\n        if (filteredFiles.length > 0) {\n          this.setFiles(filteredFiles); // Try an set the file input's files array so that `required`\n          // constraint works for dropped files (will fail in IE 11 though)\n\n          this.setInputFiles(filteredFiles);\n        }\n      } else {\n        // We always update the files from the `change` event\n        this.setFiles(files);\n      }\n    },\n    focusHandler: function focusHandler(event) {\n      // Bootstrap v4 doesn't have focus styling for custom file input\n      // Firefox has a `[type=file]:focus ~ sibling` selector issue,\n      // so we add a `focus` class to get around these bugs\n      if (this.plain || event.type === 'focusout') {\n        this.hasFocus = false;\n      } else {\n        // Add focus styling for custom file input\n        this.hasFocus = true;\n      }\n    },\n    onChange: function onChange(event) {\n      var _this2 = this;\n\n      var type = event.type,\n          target = event.target,\n          _event$dataTransfer = event.dataTransfer,\n          dataTransfer = _event$dataTransfer === void 0 ? {} : _event$dataTransfer;\n      var isDrop = type === 'drop'; // Always emit original event\n\n      this.$emit(EVENT_NAME_CHANGE, event);\n      var items = arrayFrom(dataTransfer.items || []);\n\n      if (HAS_PROMISE_SUPPORT && items.length > 0 && !isNull(getDataTransferItemEntry(items[0]))) {\n        // Drop handling for modern browsers\n        // Supports nested directory structures in `directory` mode\n\n        /* istanbul ignore next: not supported in JSDOM */\n        getAllFileEntries(items, this.directory).then(function (files) {\n          return _this2.handleFiles(files, isDrop);\n        });\n      } else {\n        // Standard file input handling (native file input change event),\n        // or fallback drop mode (IE 11 / Opera) which don't support `directory` mode\n        var files = arrayFrom(target.files || dataTransfer.files || []).map(function (file) {\n          // Add custom `$path` property to each file (to be consistent with drop mode)\n          file.$path = file.webkitRelativePath || '';\n          return file;\n        });\n        this.handleFiles(files, isDrop);\n      }\n    },\n    onDragenter: function onDragenter(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer2 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer2 === void 0 ? {} : _event$dataTransfer2; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    // Note this event fires repeatedly while the mouse is over the dropzone at\n    // intervals in the milliseconds, so avoid doing much processing in here\n    onDragover: function onDragover(event) {\n      stopEvent(event);\n      this.dragging = true;\n      var _event$dataTransfer3 = event.dataTransfer,\n          dataTransfer = _event$dataTransfer3 === void 0 ? {} : _event$dataTransfer3; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        // Show deny feedback\n\n        /* istanbul ignore next: not supported in JSDOM */\n        dataTransfer.dropEffect = 'none';\n        this.dropAllowed = false;\n        return;\n      }\n      /* istanbul ignore next: not supported in JSDOM */\n\n\n      dataTransfer.dropEffect = 'copy';\n    },\n    onDragleave: function onDragleave(event) {\n      var _this3 = this;\n\n      stopEvent(event);\n      this.$nextTick(function () {\n        _this3.dragging = false; // Reset `dropAllowed` to default\n\n        _this3.dropAllowed = !_this3.noDrop;\n      });\n    },\n    // Triggered by a file drop onto drop target\n    onDrop: function onDrop(event) {\n      var _this4 = this;\n\n      stopEvent(event);\n      this.dragging = false; // Early exit when the input or dropping is disabled\n\n      if (this.noDrop || this.disabled || !this.dropAllowed) {\n        this.$nextTick(function () {\n          // Reset `dropAllowed` to default\n          _this4.dropAllowed = !_this4.noDrop;\n        });\n        return;\n      }\n\n      this.onChange(event);\n    }\n  },\n  render: function render(h) {\n    var custom = this.custom,\n        plain = this.plain,\n        size = this.size,\n        dragging = this.dragging,\n        stateClass = this.stateClass,\n        bvAttrs = this.bvAttrs; // Form Input\n\n    var $input = h('input', {\n      class: [{\n        'form-control-file': plain,\n        'custom-file-input': custom,\n        focus: custom && this.hasFocus\n      }, stateClass],\n      // With IE 11, the input gets in the \"way\" of the drop events,\n      // so we move it out of the way by putting it behind the label\n      // Bootstrap v4 has it in front\n      style: custom ? {\n        zIndex: -5\n      } : {},\n      attrs: this.computedAttrs,\n      on: {\n        change: this.onChange,\n        focusin: this.focusHandler,\n        focusout: this.focusHandler,\n        reset: this.reset\n      },\n      ref: 'input'\n    });\n\n    if (plain) {\n      return $input;\n    } // Overlay label\n\n\n    var $label = h('label', {\n      staticClass: 'custom-file-label',\n      class: {\n        dragging: dragging\n      },\n      attrs: {\n        for: this.safeId(),\n        // This goes away in Bootstrap v5\n        'data-browse': this.browseText || null\n      }\n    }, [h('span', {\n      staticClass: 'd-block form-file-text',\n      // `pointer-events: none` is used to make sure\n      // the drag events fire only on the label\n      style: {\n        pointerEvents: 'none'\n      }\n    }, [this.labelContent])]); // Return rendered custom file input\n\n    return h('div', {\n      staticClass: 'custom-file b-form-file',\n      class: [_defineProperty({}, \"b-custom-control-\".concat(size), size), stateClass, bvAttrs.class],\n      style: bvAttrs.style,\n      attrs: {\n        id: this.safeId('_BV_file_outer_')\n      },\n      on: {\n        dragenter: this.onDragenter,\n        dragover: this.onDragover,\n        dragleave: this.onDragleave,\n        drop: this.onDrop\n      }\n    }, [$input, $label]);\n  }\n});","var _objectSpread2, _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { Vue } from '../../vue';\nimport { NAME_TAB } from '../../constants/components';\nimport { MODEL_EVENT_NAME_PREFIX } from '../../constants/events';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_OBJECT, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_TITLE } from '../../constants/slots';\nimport { sortKeys } from '../../utils/object';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BVTransition } from '../transition/bv-transition'; // --- Constants ---\n\nvar MODEL_PROP_NAME_ACTIVE = 'active';\nvar MODEL_EVENT_NAME_ACTIVE = MODEL_EVENT_NAME_PREFIX + MODEL_PROP_NAME_ACTIVE; // --- Props ---\n\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread({}, idProps), {}, (_objectSpread2 = {}, _defineProperty(_objectSpread2, MODEL_PROP_NAME_ACTIVE, makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"buttonId\", makeProp(PROP_TYPE_STRING)), _defineProperty(_objectSpread2, \"disabled\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"lazy\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"noBody\", makeProp(PROP_TYPE_BOOLEAN, false)), _defineProperty(_objectSpread2, \"tag\", makeProp(PROP_TYPE_STRING, 'div')), _defineProperty(_objectSpread2, \"title\", makeProp(PROP_TYPE_STRING)), _defineProperty(_objectSpread2, \"titleItemClass\", makeProp(PROP_TYPE_ARRAY_OBJECT_STRING)), _defineProperty(_objectSpread2, \"titleLinkAttributes\", makeProp(PROP_TYPE_OBJECT)), _defineProperty(_objectSpread2, \"titleLinkClass\", makeProp(PROP_TYPE_ARRAY_OBJECT_STRING)), _objectSpread2))), NAME_TAB); // --- Main component ---\n// @vue/component\n\nexport var BTab = /*#__PURE__*/Vue.extend({\n  name: NAME_TAB,\n  mixins: [idMixin, normalizeSlotMixin],\n  inject: {\n    bvTabs: {\n      default: function _default() {\n        return {};\n      }\n    }\n  },\n  props: props,\n  data: function data() {\n    return {\n      localActive: this[MODEL_PROP_NAME_ACTIVE] && !this.disabled\n    };\n  },\n  computed: {\n    // For parent sniffing of child\n    _isTab: function _isTab() {\n      return true;\n    },\n    tabClasses: function tabClasses() {\n      var active = this.localActive,\n          disabled = this.disabled;\n      return [{\n        active: active,\n        disabled: disabled,\n        'card-body': this.bvTabs.card && !this.noBody\n      }, // Apply <b-tabs> `activeTabClass` styles when this tab is active\n      active ? this.bvTabs.activeTabClass : null];\n    },\n    controlledBy: function controlledBy() {\n      return this.buttonId || this.safeId('__BV_tab_button__');\n    },\n    computedNoFade: function computedNoFade() {\n      return !(this.bvTabs.fade || false);\n    },\n    computedLazy: function computedLazy() {\n      return this.bvTabs.lazy || this.lazy;\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME_ACTIVE, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      if (newValue) {\n        // If activated post mount\n        this.activate();\n      } else {\n        /* istanbul ignore next */\n        if (!this.deactivate()) {\n          // Tab couldn't be deactivated, so we reset the synced active prop\n          // Deactivation will fail if no other tabs to activate\n          this.$emit(MODEL_EVENT_NAME_ACTIVE, this.localActive);\n        }\n      }\n    }\n  }), _defineProperty(_watch, \"disabled\", function disabled(newValue, oldValue) {\n    if (newValue !== oldValue) {\n      var firstTab = this.bvTabs.firstTab;\n\n      if (newValue && this.localActive && firstTab) {\n        this.localActive = false;\n        firstTab();\n      }\n    }\n  }), _defineProperty(_watch, \"localActive\", function localActive(newValue) {\n    // Make `active` prop work with `.sync` modifier\n    this.$emit(MODEL_EVENT_NAME_ACTIVE, newValue);\n  }), _watch),\n  mounted: function mounted() {\n    // Inform `<b-tabs>` of our presence\n    this.registerTab();\n  },\n  updated: function updated() {\n    // Force the tab button content to update (since slots are not reactive)\n    // Only done if we have a title slot, as the title prop is reactive\n    var updateButton = this.bvTabs.updateButton;\n\n    if (updateButton && this.hasNormalizedSlot(SLOT_NAME_TITLE)) {\n      updateButton(this);\n    }\n  },\n  beforeDestroy: function beforeDestroy() {\n    // Inform `<b-tabs>` of our departure\n    this.unregisterTab();\n  },\n  methods: {\n    // Private methods\n    registerTab: function registerTab() {\n      // Inform `<b-tabs>` of our presence\n      var registerTab = this.bvTabs.registerTab;\n\n      if (registerTab) {\n        registerTab(this);\n      }\n    },\n    unregisterTab: function unregisterTab() {\n      // Inform `<b-tabs>` of our departure\n      var unregisterTab = this.bvTabs.unregisterTab;\n\n      if (unregisterTab) {\n        unregisterTab(this);\n      }\n    },\n    // Public methods\n    activate: function activate() {\n      // Not inside a `<b-tabs>` component or tab is disabled\n      var activateTab = this.bvTabs.activateTab;\n      return activateTab && !this.disabled ? activateTab(this) : false;\n    },\n    deactivate: function deactivate() {\n      // Not inside a `<b-tabs>` component or not active to begin with\n      var deactivateTab = this.bvTabs.deactivateTab;\n      return deactivateTab && this.localActive ? deactivateTab(this) : false;\n    }\n  },\n  render: function render(h) {\n    var localActive = this.localActive;\n    var $content = h(this.tag, {\n      staticClass: 'tab-pane',\n      class: this.tabClasses,\n      directives: [{\n        name: 'show',\n        value: localActive\n      }],\n      attrs: {\n        role: 'tabpanel',\n        id: this.safeId(),\n        'aria-hidden': localActive ? 'false' : 'true',\n        'aria-labelledby': this.controlledBy || null\n      },\n      ref: 'panel'\n    }, // Render content lazily if requested\n    [localActive || !this.computedLazy ? this.normalizeSlot() : h()]);\n    return h(BVTransition, {\n      props: {\n        mode: 'out-in',\n        noFade: this.computedNoFade\n      }\n    }, [$content]);\n  }\n});","var _watch;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport { COMPONENT_UID_KEY, Vue } from '../../vue';\nimport { NAME_TABS, NAME_TAB_BUTTON_HELPER } from '../../constants/components';\nimport { IS_BROWSER } from '../../constants/env';\nimport { EVENT_NAME_ACTIVATE_TAB, EVENT_NAME_CHANGED, EVENT_NAME_CLICK, EVENT_NAME_FIRST, EVENT_NAME_LAST, EVENT_NAME_NEXT, EVENT_NAME_PREV } from '../../constants/events';\nimport { CODE_DOWN, CODE_END, CODE_HOME, CODE_LEFT, CODE_RIGHT, CODE_SPACE, CODE_UP } from '../../constants/key-codes';\nimport { PROP_TYPE_ARRAY_OBJECT_STRING, PROP_TYPE_BOOLEAN, PROP_TYPE_NUMBER, PROP_TYPE_STRING } from '../../constants/props';\nimport { SLOT_NAME_EMPTY, SLOT_NAME_TABS_END, SLOT_NAME_TABS_START, SLOT_NAME_TITLE } from '../../constants/slots';\nimport { arrayIncludes } from '../../utils/array';\nimport { BvEvent } from '../../utils/bv-event.class';\nimport { attemptFocus, selectAll, requestAF } from '../../utils/dom';\nimport { stopEvent } from '../../utils/events';\nimport { identity } from '../../utils/identity';\nimport { isEvent } from '../../utils/inspect';\nimport { looseEqual } from '../../utils/loose-equal';\nimport { mathMax } from '../../utils/math';\nimport { makeModelMixin } from '../../utils/model';\nimport { toInteger } from '../../utils/number';\nimport { omit, sortKeys } from '../../utils/object';\nimport { observeDom } from '../../utils/observe-dom';\nimport { makeProp, makePropsConfigurable } from '../../utils/props';\nimport { stableSort } from '../../utils/stable-sort';\nimport { idMixin, props as idProps } from '../../mixins/id';\nimport { normalizeSlotMixin } from '../../mixins/normalize-slot';\nimport { BLink } from '../link/link';\nimport { BNav, props as BNavProps } from '../nav/nav'; // --- Constants ---\n\nvar _makeModelMixin = makeModelMixin('value', {\n  type: PROP_TYPE_NUMBER\n}),\n    modelMixin = _makeModelMixin.mixin,\n    modelProps = _makeModelMixin.props,\n    MODEL_PROP_NAME = _makeModelMixin.prop,\n    MODEL_EVENT_NAME = _makeModelMixin.event; // --- Helper methods ---\n// Filter function to filter out disabled tabs\n\n\nvar notDisabled = function notDisabled(tab) {\n  return !tab.disabled;\n}; // --- Helper components ---\n// @vue/component\n\n\nvar BVTabButton = /*#__PURE__*/Vue.extend({\n  name: NAME_TAB_BUTTON_HELPER,\n  inject: {\n    bvTabs: {\n      default:\n      /* istanbul ignore next */\n      function _default() {\n        return {};\n      }\n    }\n  },\n  props: {\n    controls: makeProp(PROP_TYPE_STRING),\n    id: makeProp(PROP_TYPE_STRING),\n    noKeyNav: makeProp(PROP_TYPE_BOOLEAN, false),\n    posInSet: makeProp(PROP_TYPE_NUMBER),\n    setSize: makeProp(PROP_TYPE_NUMBER),\n    // Reference to the child <b-tab> instance\n    tab: makeProp(),\n    tabIndex: makeProp(PROP_TYPE_NUMBER)\n  },\n  methods: {\n    focus: function focus() {\n      attemptFocus(this.$refs.link);\n    },\n    handleEvt: function handleEvt(event) {\n      /* istanbul ignore next */\n      if (this.tab.disabled) {\n        return;\n      }\n\n      var type = event.type,\n          keyCode = event.keyCode,\n          shiftKey = event.shiftKey;\n\n      if (type === 'click') {\n        stopEvent(event);\n        this.$emit(EVENT_NAME_CLICK, event);\n      } else if (type === 'keydown' && keyCode === CODE_SPACE) {\n        // For ARIA tabs the SPACE key will also trigger a click/select\n        // Even with keyboard navigation disabled, SPACE should \"click\" the button\n        // See: https://github.com/bootstrap-vue/bootstrap-vue/issues/4323\n        stopEvent(event);\n        this.$emit(EVENT_NAME_CLICK, event);\n      } else if (type === 'keydown' && !this.noKeyNav) {\n        // For keyboard navigation\n        if ([CODE_UP, CODE_LEFT, CODE_HOME].indexOf(keyCode) !== -1) {\n          stopEvent(event);\n\n          if (shiftKey || keyCode === CODE_HOME) {\n            this.$emit(EVENT_NAME_FIRST, event);\n          } else {\n            this.$emit(EVENT_NAME_PREV, event);\n          }\n        } else if ([CODE_DOWN, CODE_RIGHT, CODE_END].indexOf(keyCode) !== -1) {\n          stopEvent(event);\n\n          if (shiftKey || keyCode === CODE_END) {\n            this.$emit(EVENT_NAME_LAST, event);\n          } else {\n            this.$emit(EVENT_NAME_NEXT, event);\n          }\n        }\n      }\n    }\n  },\n  render: function render(h) {\n    var id = this.id,\n        tabIndex = this.tabIndex,\n        setSize = this.setSize,\n        posInSet = this.posInSet,\n        controls = this.controls,\n        handleEvt = this.handleEvt;\n    var _this$tab = this.tab,\n        title = _this$tab.title,\n        localActive = _this$tab.localActive,\n        disabled = _this$tab.disabled,\n        titleItemClass = _this$tab.titleItemClass,\n        titleLinkClass = _this$tab.titleLinkClass,\n        titleLinkAttributes = _this$tab.titleLinkAttributes;\n    var $link = h(BLink, {\n      staticClass: 'nav-link',\n      class: [{\n        active: localActive && !disabled,\n        disabled: disabled\n      }, titleLinkClass, // Apply <b-tabs> `activeNavItemClass` styles when the tab is active\n      localActive ? this.bvTabs.activeNavItemClass : null],\n      props: {\n        disabled: disabled\n      },\n      attrs: _objectSpread(_objectSpread({}, titleLinkAttributes), {}, {\n        id: id,\n        role: 'tab',\n        // Roving tab index when keynav enabled\n        tabindex: tabIndex,\n        'aria-selected': localActive && !disabled ? 'true' : 'false',\n        'aria-setsize': setSize,\n        'aria-posinset': posInSet,\n        'aria-controls': controls\n      }),\n      on: {\n        click: handleEvt,\n        keydown: handleEvt\n      },\n      ref: 'link'\n    }, [this.tab.normalizeSlot(SLOT_NAME_TITLE) || title]);\n    return h('li', {\n      staticClass: 'nav-item',\n      class: [titleItemClass],\n      attrs: {\n        role: 'presentation'\n      }\n    }, [$link]);\n  }\n}); // --- Props ---\n\nvar navProps = omit(BNavProps, ['tabs', 'isNavBar', 'cardHeader']);\nexport var props = makePropsConfigurable(sortKeys(_objectSpread(_objectSpread(_objectSpread(_objectSpread({}, idProps), modelProps), navProps), {}, {\n  // Only applied to the currently active `<b-nav-item>`\n  activeNavItemClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // Only applied to the currently active `<b-tab>`\n  // This prop is sniffed by the `<b-tab>` child\n  activeTabClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  card: makeProp(PROP_TYPE_BOOLEAN, false),\n  contentClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  // Synonym for 'bottom'\n  end: makeProp(PROP_TYPE_BOOLEAN, false),\n  // This prop is sniffed by the `<b-tab>` child\n  lazy: makeProp(PROP_TYPE_BOOLEAN, false),\n  navClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  navWrapperClass: makeProp(PROP_TYPE_ARRAY_OBJECT_STRING),\n  noFade: makeProp(PROP_TYPE_BOOLEAN, false),\n  noKeyNav: makeProp(PROP_TYPE_BOOLEAN, false),\n  noNavStyle: makeProp(PROP_TYPE_BOOLEAN, false),\n  tag: makeProp(PROP_TYPE_STRING, 'div')\n})), NAME_TABS); // --- Main component ---\n// @vue/component\n\nexport var BTabs = /*#__PURE__*/Vue.extend({\n  name: NAME_TABS,\n  mixins: [idMixin, modelMixin, normalizeSlotMixin],\n  provide: function provide() {\n    return {\n      bvTabs: this\n    };\n  },\n  props: props,\n  data: function data() {\n    return {\n      // Index of current tab\n      currentTab: toInteger(this[MODEL_PROP_NAME], -1),\n      // Array of direct child `<b-tab>` instances, in DOM order\n      tabs: [],\n      // Array of child instances registered (for triggering reactive updates)\n      registeredTabs: []\n    };\n  },\n  computed: {\n    fade: function fade() {\n      // This computed prop is sniffed by the tab child\n      return !this.noFade;\n    },\n    localNavClass: function localNavClass() {\n      var classes = [];\n\n      if (this.card && this.vertical) {\n        classes.push('card-header', 'h-100', 'border-bottom-0', 'rounded-0');\n      }\n\n      return [].concat(classes, [this.navClass]);\n    }\n  },\n  watch: (_watch = {}, _defineProperty(_watch, MODEL_PROP_NAME, function (newValue, oldValue) {\n    if (newValue !== oldValue) {\n      newValue = toInteger(newValue, -1);\n      oldValue = toInteger(oldValue, 0);\n      var $tab = this.tabs[newValue];\n\n      if ($tab && !$tab.disabled) {\n        this.activateTab($tab);\n      } else {\n        // Try next or prev tabs\n        if (newValue < oldValue) {\n          this.previousTab();\n        } else {\n          this.nextTab();\n        }\n      }\n    }\n  }), _defineProperty(_watch, \"currentTab\", function currentTab(newValue) {\n    var index = -1; // Ensure only one tab is active at most\n\n    this.tabs.forEach(function ($tab, i) {\n      if (i === newValue && !$tab.disabled) {\n        $tab.localActive = true;\n        index = i;\n      } else {\n        $tab.localActive = false;\n      }\n    }); // Update the v-model\n\n    this.$emit(MODEL_EVENT_NAME, index);\n  }), _defineProperty(_watch, \"tabs\", function tabs(newValue, oldValue) {\n    var _this = this;\n\n    // We use `_uid` instead of `safeId()`, as the later is changed in a `$nextTick()`\n    // if no explicit ID is provided, causing duplicate emits\n    if (!looseEqual(newValue.map(function ($tab) {\n      return $tab[COMPONENT_UID_KEY];\n    }), oldValue.map(function ($tab) {\n      return $tab[COMPONENT_UID_KEY];\n    }))) {\n      // In a `$nextTick()` to ensure `currentTab` has been set first\n      this.$nextTick(function () {\n        // We emit shallow copies of the new and old arrays of tabs,\n        // to prevent users from potentially mutating the internal arrays\n        _this.$emit(EVENT_NAME_CHANGED, newValue.slice(), oldValue.slice());\n      });\n    }\n  }), _defineProperty(_watch, \"registeredTabs\", function registeredTabs() {\n    this.updateTabs();\n  }), _watch),\n  created: function created() {\n    // Create private non-reactive props\n    this.$_observer = null;\n  },\n  mounted: function mounted() {\n    this.setObserver(true);\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.setObserver(false); // Ensure no references to child instances exist\n\n    this.tabs = [];\n  },\n  methods: {\n    registerTab: function registerTab($tab) {\n      if (!arrayIncludes(this.registeredTabs, $tab)) {\n        this.registeredTabs.push($tab);\n      }\n    },\n    unregisterTab: function unregisterTab($tab) {\n      this.registeredTabs = this.registeredTabs.slice().filter(function ($t) {\n        return $t !== $tab;\n      });\n    },\n    // DOM observer is needed to detect changes in order of tabs\n    setObserver: function setObserver() {\n      var _this2 = this;\n\n      var on = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n      this.$_observer && this.$_observer.disconnect();\n      this.$_observer = null;\n\n      if (on) {\n        /* istanbul ignore next: difficult to test mutation observer in JSDOM */\n        var handler = function handler() {\n          _this2.$nextTick(function () {\n            requestAF(function () {\n              _this2.updateTabs();\n            });\n          });\n        }; // Watch for changes to `<b-tab>` sub components\n\n\n        this.$_observer = observeDom(this.$refs.content, handler, {\n          childList: true,\n          subtree: false,\n          attributes: true,\n          attributeFilter: ['id']\n        });\n      }\n    },\n    getTabs: function getTabs() {\n      var $tabs = this.registeredTabs.filter(function ($tab) {\n        return $tab.$children.filter(function ($t) {\n          return $t._isTab;\n        }).length === 0;\n      }); // DOM Order of Tabs\n\n      var order = [];\n      /* istanbul ignore next: too difficult to test */\n\n      if (IS_BROWSER && $tabs.length > 0) {\n        // We rely on the DOM when mounted to get the \"true\" order of the `<b-tab>` children\n        // `querySelectorAll()` always returns elements in document order, regardless of\n        // order specified in the selector\n        var selector = $tabs.map(function ($tab) {\n          return \"#\".concat($tab.safeId());\n        }).join(', ');\n        order = selectAll(selector, this.$el).map(function ($el) {\n          return $el.id;\n        }).filter(identity);\n      } // Stable sort keeps the original order if not found in the `order` array,\n      // which will be an empty array before mount\n\n\n      return stableSort($tabs, function (a, b) {\n        return order.indexOf(a.safeId()) - order.indexOf(b.safeId());\n      });\n    },\n    updateTabs: function updateTabs() {\n      var $tabs = this.getTabs(); // Find last active non-disabled tab in current tabs\n      // We trust tab state over `currentTab`, in case tabs were added/removed/re-ordered\n\n      var tabIndex = $tabs.indexOf($tabs.slice().reverse().find(function ($tab) {\n        return $tab.localActive && !$tab.disabled;\n      })); // Else try setting to `currentTab`\n\n      if (tabIndex < 0) {\n        var currentTab = this.currentTab;\n\n        if (currentTab >= $tabs.length) {\n          // Handle last tab being removed, so find the last non-disabled tab\n          tabIndex = $tabs.indexOf($tabs.slice().reverse().find(notDisabled));\n        } else if ($tabs[currentTab] && !$tabs[currentTab].disabled) {\n          // Current tab is not disabled\n          tabIndex = currentTab;\n        }\n      } // Else find first non-disabled tab in current tabs\n\n\n      if (tabIndex < 0) {\n        tabIndex = $tabs.indexOf($tabs.find(notDisabled));\n      } // Ensure only one tab is active at a time\n\n\n      $tabs.forEach(function ($tab, index) {\n        $tab.localActive = index === tabIndex;\n      });\n      this.tabs = $tabs;\n      this.currentTab = tabIndex;\n    },\n    // Find a button that controls a tab, given the tab reference\n    // Returns the button vm instance\n    getButtonForTab: function getButtonForTab($tab) {\n      return (this.$refs.buttons || []).find(function ($btn) {\n        return $btn.tab === $tab;\n      });\n    },\n    // Force a button to re-render its content, given a `<b-tab>` instance\n    // Called by `<b-tab>` on `update()`\n    updateButton: function updateButton($tab) {\n      var $button = this.getButtonForTab($tab);\n\n      if ($button && $button.$forceUpdate) {\n        $button.$forceUpdate();\n      }\n    },\n    // Activate a tab given a `<b-tab>` instance\n    // Also accessed by `<b-tab>`\n    activateTab: function activateTab($tab) {\n      var currentTab = this.currentTab,\n          $tabs = this.tabs;\n      var result = false;\n\n      if ($tab) {\n        var index = $tabs.indexOf($tab);\n\n        if (index !== currentTab && index > -1 && !$tab.disabled) {\n          var tabEvent = new BvEvent(EVENT_NAME_ACTIVATE_TAB, {\n            cancelable: true,\n            vueTarget: this,\n            componentId: this.safeId()\n          });\n          this.$emit(tabEvent.type, index, currentTab, tabEvent);\n\n          if (!tabEvent.defaultPrevented) {\n            this.currentTab = index;\n            result = true;\n          }\n        }\n      } // Couldn't set tab, so ensure v-model is up to date\n\n      /* istanbul ignore next: should rarely happen */\n\n\n      if (!result && this[MODEL_PROP_NAME] !== currentTab) {\n        this.$emit(MODEL_EVENT_NAME, currentTab);\n      }\n\n      return result;\n    },\n    // Deactivate a tab given a `<b-tab>` instance\n    // Accessed by `<b-tab>`\n    deactivateTab: function deactivateTab($tab) {\n      if ($tab) {\n        // Find first non-disabled tab that isn't the one being deactivated\n        // If no tabs are available, then don't deactivate current tab\n        return this.activateTab(this.tabs.filter(function ($t) {\n          return $t !== $tab;\n        }).find(notDisabled));\n      }\n      /* istanbul ignore next: should never/rarely happen */\n\n\n      return false;\n    },\n    // Focus a tab button given its `<b-tab>` instance\n    focusButton: function focusButton($tab) {\n      var _this3 = this;\n\n      // Wrap in `$nextTick()` to ensure DOM has completed rendering\n      this.$nextTick(function () {\n        attemptFocus(_this3.getButtonForTab($tab));\n      });\n    },\n    // Emit a click event on a specified `<b-tab>` component instance\n    emitTabClick: function emitTabClick(tab, event) {\n      if (isEvent(event) && tab && tab.$emit && !tab.disabled) {\n        tab.$emit(EVENT_NAME_CLICK, event);\n      }\n    },\n    // Click handler\n    clickTab: function clickTab($tab, event) {\n      this.activateTab($tab);\n      this.emitTabClick($tab, event);\n    },\n    // Move to first non-disabled tab\n    firstTab: function firstTab(focus) {\n      var $tab = this.tabs.find(notDisabled);\n\n      if (this.activateTab($tab) && focus) {\n        this.focusButton($tab);\n        this.emitTabClick($tab, focus);\n      }\n    },\n    // Move to previous non-disabled tab\n    previousTab: function previousTab(focus) {\n      var currentIndex = mathMax(this.currentTab, 0);\n      var $tab = this.tabs.slice(0, currentIndex).reverse().find(notDisabled);\n\n      if (this.activateTab($tab) && focus) {\n        this.focusButton($tab);\n        this.emitTabClick($tab, focus);\n      }\n    },\n    // Move to next non-disabled tab\n    nextTab: function nextTab(focus) {\n      var currentIndex = mathMax(this.currentTab, -1);\n      var $tab = this.tabs.slice(currentIndex + 1).find(notDisabled);\n\n      if (this.activateTab($tab) && focus) {\n        this.focusButton($tab);\n        this.emitTabClick($tab, focus);\n      }\n    },\n    // Move to last non-disabled tab\n    lastTab: function lastTab(focus) {\n      var $tab = this.tabs.slice().reverse().find(notDisabled);\n\n      if (this.activateTab($tab) && focus) {\n        this.focusButton($tab);\n        this.emitTabClick($tab, focus);\n      }\n    }\n  },\n  render: function render(h) {\n    var _this4 = this;\n\n    var align = this.align,\n        card = this.card,\n        end = this.end,\n        fill = this.fill,\n        firstTab = this.firstTab,\n        justified = this.justified,\n        lastTab = this.lastTab,\n        nextTab = this.nextTab,\n        noKeyNav = this.noKeyNav,\n        noNavStyle = this.noNavStyle,\n        pills = this.pills,\n        previousTab = this.previousTab,\n        small = this.small,\n        $tabs = this.tabs,\n        vertical = this.vertical; // Currently active tab\n\n    var $activeTab = $tabs.find(function ($tab) {\n      return $tab.localActive && !$tab.disabled;\n    }); // Tab button to allow focusing when no active tab found (keynav only)\n\n    var $fallbackTab = $tabs.find(function ($tab) {\n      return !$tab.disabled;\n    }); // For each `<b-tab>` found create the tab buttons\n\n    var $buttons = $tabs.map(function ($tab, index) {\n      var _on;\n\n      var safeId = $tab.safeId; // Ensure at least one tab button is focusable when keynav enabled (if possible)\n\n      var tabIndex = null;\n\n      if (!noKeyNav) {\n        // Buttons are not in tab index unless active, or a fallback tab\n        tabIndex = -1;\n\n        if ($tab === $activeTab || !$activeTab && $tab === $fallbackTab) {\n          // Place tab button in tab sequence\n          tabIndex = null;\n        }\n      }\n\n      return h(BVTabButton, {\n        props: {\n          controls: safeId ? safeId() : null,\n          id: $tab.controlledBy || (safeId ? safeId(\"_BV_tab_button_\") : null),\n          noKeyNav: noKeyNav,\n          posInSet: index + 1,\n          setSize: $tabs.length,\n          tab: $tab,\n          tabIndex: tabIndex\n        },\n        on: (_on = {}, _defineProperty(_on, EVENT_NAME_CLICK, function (event) {\n          _this4.clickTab($tab, event);\n        }), _defineProperty(_on, EVENT_NAME_FIRST, firstTab), _defineProperty(_on, EVENT_NAME_PREV, previousTab), _defineProperty(_on, EVENT_NAME_NEXT, nextTab), _defineProperty(_on, EVENT_NAME_LAST, lastTab), _on),\n        key: $tab[COMPONENT_UID_KEY] || index,\n        ref: 'buttons',\n        // Needed to make `this.$refs.buttons` an array\n        refInFor: true\n      });\n    });\n    var $nav = h(BNav, {\n      class: this.localNavClass,\n      attrs: {\n        role: 'tablist',\n        id: this.safeId('_BV_tab_controls_')\n      },\n      props: {\n        fill: fill,\n        justified: justified,\n        align: align,\n        tabs: !noNavStyle && !pills,\n        pills: !noNavStyle && pills,\n        vertical: vertical,\n        small: small,\n        cardHeader: card && !vertical\n      },\n      ref: 'nav'\n    }, [this.normalizeSlot(SLOT_NAME_TABS_START) || h(), $buttons, this.normalizeSlot(SLOT_NAME_TABS_END) || h()]);\n    $nav = h('div', {\n      class: [{\n        'card-header': card && !vertical && !end,\n        'card-footer': card && !vertical && end,\n        'col-auto': vertical\n      }, this.navWrapperClass],\n      key: 'bv-tabs-nav'\n    }, [$nav]);\n    var $children = this.normalizeSlot() || [];\n    var $empty = h();\n\n    if ($children.length === 0) {\n      $empty = h('div', {\n        class: ['tab-pane', 'active', {\n          'card-body': card\n        }],\n        key: 'bv-empty-tab'\n      }, this.normalizeSlot(SLOT_NAME_EMPTY));\n    }\n\n    var $content = h('div', {\n      staticClass: 'tab-content',\n      class: [{\n        col: vertical\n      }, this.contentClass],\n      attrs: {\n        id: this.safeId('_BV_tab_container_')\n      },\n      key: 'bv-content',\n      ref: 'content'\n    }, [$children, $empty]); // Render final output\n\n    return h(this.tag, {\n      staticClass: 'tabs',\n      class: {\n        row: vertical,\n        'no-gutters': vertical && card\n      },\n      attrs: {\n        id: this.safeId()\n      }\n    }, [end ? $content : h(), $nav, end ? h() : $content]);\n  }\n});","/*\n * Consistent and stable sort function across JavaScript platforms\n *\n * Inconsistent sorts can cause SSR problems between client and server\n * such as in <b-table> if sortBy is applied to the data on server side render.\n * Chrome and V8 native sorts are inconsistent/unstable\n *\n * This function uses native sort with fallback to index compare when the a and b\n * compare returns 0\n *\n * Algorithm based on:\n * https://stackoverflow.com/questions/1427608/fast-stable-sorting-algorithm-implementation-in-javascript/45422645#45422645\n *\n * @param {array} array to sort\n * @param {function} sort compare function\n * @return {array}\n */\nexport var stableSort = function stableSort(array, compareFn) {\n  // Using `.bind(compareFn)` on the wrapped anonymous function improves\n  // performance by avoiding the function call setup. We don't use an arrow\n  // function here as it binds `this` to the `stableSort` context rather than\n  // the `compareFn` context, which wouldn't give us the performance increase.\n  return array.map(function (a, index) {\n    return [index, a];\n  }).sort(function (a, b) {\n    return this(a[1], b[1]) || a[0] - b[0];\n  }.bind(compareFn)).map(function (e) {\n    return e[1];\n  });\n};","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { scrapeTranscript, StudentData } from \"@/components/scrapeTranscript\";\nimport { mapGetters, mapState } from \"vuex\";\nimport {\n  BButton,\n  BCard,\n  BCol,\n  BFormCheckbox,\n  BFormFile,\n  BFormInput,\n  BFormInvalidFeedback,\n  BFormValidFeedback,\n  BJumbotron,\n  BRow,\n  BTab,\n  BTabs,\n  VBTooltip,\n} from \"bootstrap-vue\";\n\n@Component({\n  components: {\n    \"b-button\": BButton,\n    \"b-card\": BCard,\n    \"b-col\": BCol,\n    \"b-form-checkbox\": BFormCheckbox,\n    \"b-form-file\": BFormFile,\n    \"b-form-input\": BFormInput,\n    \"b-form-invalid-feedback\": BFormInvalidFeedback,\n    \"b-form-valid-feedback\": BFormValidFeedback,\n    \"b-jumbotron\": BJumbotron,\n    \"b-row\": BRow,\n    \"b-tab\": BTab,\n    \"b-tabs\": BTabs,\n  },\n  directives: {\n    \"b-tooltip\": VBTooltip,\n  },\n  computed: {\n    verifyNewCourse(): boolean {\n      // @ts-expect-error: no u typescript, this does exist\n      return this.newCourse.match(\"^[a-zA-Z]{4}[-_\\\\s]\\\\d{4}$\") !== null;\n    },\n    priorCourses(): string[] {\n      // @ts-expect-error: no u typescript, this does exist\n      return Object.keys(this.getPriorCourses()).sort();\n    },\n    ...mapGetters(\"prerequisites\", [\"getPriorCourses\"]),\n    ...mapState([\"courseIdToCourse\"]),\n    prerequisiteChecking: {\n      get() {\n        return this.$store.state.prerequisites.enableChecking;\n      },\n      set() {\n        const new_val = !this.$store.state.prerequisites.enableChecking;\n        this.$store.commit(\"prerequisites/togglePrerequisiteChecking\", new_val);\n      },\n    },\n  },\n})\nexport default class Prerequisites extends Vue {\n  newCourse = \"\";\n  tabNumber = 0;\n  file = null;\n\n  formatCourse(value: string): string {\n    return value\n      .toUpperCase()\n      .replace(\"_\", \"-\")\n      .replace(\" \", \"-\")\n      .substring(0, 9);\n  }\n\n  addCourse(): void {\n    // @ts-expect-error: no u typescript, this does exist\n    if (this.verifyNewCourse) {\n      this.$store.commit(\"prerequisites/addPriorCourse\", this.newCourse);\n    }\n  }\n\n  removeCourse(course: string): void {\n    this.$store.commit(\"prerequisites/removePriorCourse\", course);\n  }\n\n  importTranscript(): void {\n    const store = this.$store;\n    const bvModal = this.$bvModal;\n    const importedTranscript = scrapeTranscript(\"transcriptFileUpload\");\n    importedTranscript\n      .catch(function (err: string) {\n        //eslint-disable-next-line\n        console.log(err);\n        bvModal.show(\"transcriptImportModal\");\n      })\n      .then(function (transcript: StudentData | void) {\n        if (!transcript) {\n          //eslint-disable-next-line\n          console.log(\"transcript is void\");\n          bvModal.show(\"transcriptImportModal\");\n          return;\n        }\n\n        for (const term of transcript.terms) {\n          for (const course of term.courses) {\n            store.commit(\n              \"prerequisites/addPriorCourse\",\n              course.subject.toUpperCase() + \"-\" + course.course\n            );\n          }\n        }\n      });\n    this.tabNumber = 0;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--15-2!../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--15-2!../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Prerequisites.vue?vue&type=template&id=d4505028&\"\nimport script from \"./Prerequisites.vue?vue&type=script&lang=ts&\"\nexport * from \"./Prerequisites.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Prerequisites.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Prerequisites.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}